<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SBS Workout Tracker</title>
    <style>
        /* CSS Variables for Theming */
        :root {
            /* Spacing */
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;

            /* Border Radius */
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;

            /* Colors - Light Mode */
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #f5f5f5;
            --surface: #ffffff;
            --text-primary: #1a202c;
            --text-secondary: #4a5568;
            --text-tertiary: #718096;
            --border-color: #e2e8f0;
            --border-color-light: #edf2f7;

            /* Gradients */
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-squat: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            --gradient-bench: linear-gradient(135deg, #4FACFE 0%, #00F2FE 100%);
            --gradient-deadlift: linear-gradient(135deg, #43E97B 0%, #38F9D7 100%);
            --gradient-ohp: linear-gradient(135deg, #FA709A 0%, #FEE140 100%);
            --gradient-success: linear-gradient(135deg, #00B894 0%, #00cec9 100%);

            /* Shadows */
            --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.04);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.04), 0 4px 16px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08), 0 8px 24px rgba(0, 0, 0, 0.12);
            --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.12), 0 20px 40px rgba(0, 0, 0, 0.16);
            --shadow-xl: 0 20px 60px rgba(0, 0, 0, 0.16), 0 30px 80px rgba(0, 0, 0, 0.20);

            /* Action Colors */
            --color-success: #00B894;
            --color-warning: #FDCB6E;
            --color-danger: #D63031;
            --color-info: #0984e3;
        }

        /* Dark Mode */
        [data-theme="dark"] {
            --bg-primary: #0f0f0f;
            --bg-secondary: #1a1a1a;
            --bg-tertiary: #0a0a0a;
            --surface: #1e1e1e;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --text-tertiary: #6b7280;
            --border-color: #2d3748;
            --border-color-light: #1a202c;

            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3), 0 4px 16px rgba(0, 0, 0, 0.5);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4), 0 8px 24px rgba(0, 0, 0, 0.6);
            --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.5), 0 20px 40px rgba(0, 0, 0, 0.7);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-tertiary);
            padding-bottom: 80px;
            color: var(--text-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Header - Modern with backdrop blur */
        .header {
            background: var(--gradient-primary);
            color: white;
            padding: var(--spacing-md) var(--spacing-lg);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-md);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .header h1 {
            font-size: 22px;
            margin-bottom: var(--spacing-xs);
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        .week-info {
            font-size: 14px;
            opacity: 0.95;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-md);
        }
        .week-nav-btn {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.25);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 16px;
            font-weight: 700;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .week-nav-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(1.05);
        }
        .week-nav-btn:active {
            background: rgba(255, 255, 255, 0.35);
            transform: scale(0.95);
        }
        .week-nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: scale(1);
        }
        /* Navigation Tabs - Hidden on mobile, will use bottom nav */
        .nav-tabs {
            display: flex;
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 72px;
            z-index: 99;
            box-shadow: var(--shadow-xs);
        }
        .nav-tab {
            flex: 1;
            padding: var(--spacing-md);
            text-align: center;
            background: var(--bg-primary);
            border: none;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-secondary);
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }
        .nav-tab:hover {
            color: var(--text-primary);
            background: var(--bg-secondary);
        }
        .nav-tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: var(--bg-primary);
        }
        .nav-tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
        }
        /* Tab Content */
        .tab-content {
            display: none;
            padding: var(--spacing-lg);
            max-width: 640px;
            margin: 0 auto;
        }
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        /* Day Selector - Modern pills */
        .day-selector {
            display: flex;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
        }
        .day-btn {
            flex: 1;
            padding: 14px 12px;
            background: var(--bg-primary);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            color: var(--text-primary);
        }
        .day-btn:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }
        .day-btn.active {
            background: var(--gradient-primary);
            color: white;
            border-color: transparent;
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }
        .day-btn.completed {
            background: var(--gradient-success);
            color: white;
            border-color: transparent;
            position: relative;
        }
        .day-btn.completed::after {
            content: '✓';
            position: absolute;
            top: 4px;
            right: 6px;
            font-size: 12px;
            font-weight: 700;
        }
        .day-btn.completed.active {
            background: linear-gradient(135deg, #00a884 0%, #00bfb9 100%);
            box-shadow: var(--shadow-md);
        }

        /* Exercise Card - Modern with better shadows */
        .exercise-card {
            background: var(--bg-primary);
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            margin-bottom: var(--spacing-md);
            box-shadow: var(--shadow-sm);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--border-color-light);
        }
        .exercise-card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }
        /* Exercise Details */
        .exercise-name {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: var(--text-primary);
            letter-spacing: -0.3px;
        }
        .exercise-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            padding: var(--spacing-md);
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            font-size: 13px;
            border: 1px solid var(--border-color-light);
        }
        .detail-label {
            color: var(--text-tertiary);
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }
        .detail-value {
            font-weight: 700;
            color: var(--text-primary);
            font-size: 16px;
            margin-top: 2px;
        }
        /* AMRAP Input with Steppers */
        .amrap-input {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            margin-top: var(--spacing-md);
        }
        .amrap-input label {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-secondary);
        }
        .stepper-control {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            padding: 4px;
            border: 2px solid var(--border-color);
        }
        .stepper-btn {
            width: 36px;
            height: 36px;
            border: none;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 18px;
            font-weight: 700;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .stepper-btn:hover {
            background: var(--gradient-primary);
            color: white;
            transform: scale(1.05);
        }
        .stepper-btn:active {
            transform: scale(0.95);
        }
        .stepper-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: scale(1);
        }
        .stepper-value {
            min-width: 48px;
            text-align: center;
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            padding: 0 var(--spacing-sm);
        }
        .stepper-value.empty {
            color: var(--text-tertiary);
            font-weight: 400;
        }
        .progression-hint { font-size: 11px; color: #666; margin-top: 5px; font-style: italic; }
        .progression-positive { color: var(--color-success); }
        .progression-negative { color: var(--color-danger); }

        /* Buttons - Modern with gradients */
        .btn {
            width: 100%;
            padding: 14px 20px;
            border: none;
            border-radius: var(--radius-md);
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.3px;
        }
        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        .btn:active::before {
            width: 300px;
            height: 300px;
        }
        .btn-primary {
            background: var(--gradient-success);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 184, 148, 0.3);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 184, 148, 0.4);
        }
        .btn-primary:active {
            transform: translateY(0);
        }
        .btn-secondary {
            background: var(--gradient-primary);
            color: white;
            margin-top: var(--spacing-sm);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        .btn-danger {
            background: linear-gradient(135deg, #D63031 0%, #e74c3c 100%);
            color: white;
            margin-top: var(--spacing-sm);
            box-shadow: 0 4px 15px rgba(214, 48, 49, 0.3);
        }
        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(214, 48, 49, 0.4);
        }
        .history-week { background: var(--bg-surface); padding: 15px; border-radius: 8px; margin-bottom: 15px; }
        .history-week h3 { font-size: 16px; margin-bottom: 10px; color: var(--text-primary); }
        .history-exercise { padding: 8px 0; border-bottom: 1px solid var(--border-color); font-size: 13px; color: var(--text-primary); }
        .history-exercise:last-child { border-bottom: none; }
        .completed-badge { display: inline-block; padding: 2px 6px; background: #27ae60; color: white; border-radius: 3px; font-size: 10px; margin-left: 5px; }
        .pr-badge { display: inline-block; padding: 3px 8px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; border-radius: 4px; font-size: 11px; font-weight: 700; margin-left: 8px; box-shadow: 0 2px 4px rgba(245, 87, 108, 0.3); }
        .pr-indicator { display: inline-block; font-size: 14px; margin-left: 5px; }

        /* Rest Timer */
        .rest-timer { position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); z-index: 1000; min-width: 280px; text-align: center; }
        .timer-display { font-size: 48px; font-weight: 700; margin-bottom: 15px; font-family: 'Courier New', monospace; letter-spacing: 2px; }
        .timer-controls { display: flex; gap: 8px; justify-content: center; }
        .timer-btn { padding: 10px 20px; border: none; border-radius: 6px; font-size: 14px; font-weight: 600; cursor: pointer; background: rgba(255,255,255,0.9); color: #667eea; transition: all 0.2s; }
        .timer-btn:active { transform: scale(0.95); }
        .timer-btn.secondary { background: rgba(255,255,255,0.3); color: white; }

        /* Progress tab styles */
        .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 20px; }
        .stat-card { background: white; padding: 15px; border-radius: 8px; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .stat-value { font-size: 24px; font-weight: 700; color: #2c3e50; margin-bottom: 5px; }
        .stat-label { font-size: 12px; color: #7f8c8d; text-transform: uppercase; letter-spacing: 0.5px; }
        .stat-card.highlight { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .stat-card.highlight .stat-value, .stat-card.highlight .stat-label { color: white; }
        .chart-container { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .chart-title { font-size: 16px; font-weight: 600; color: #2c3e50; margin-bottom: 15px; }
        .chart-canvas { width: 100%; height: 200px; position: relative; }
        .bar-chart { display: flex; align-items: flex-end; justify-content: space-around; height: 100%; gap: 5px; }
        .bar { flex: 1; background: linear-gradient(to top, #3498db, #5dade2); border-radius: 4px 4px 0 0; position: relative; min-height: 3px; transition: all 0.3s; }
        .bar:hover { background: linear-gradient(to top, #2980b9, #3498db); }
        .bar-label { position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: #666; white-space: nowrap; }
        .bar-value { position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; font-weight: 600; color: #2c3e50; }
        .line-chart { position: relative; height: 100%; }
        .line-path { stroke: #3498db; stroke-width: 2; fill: none; }
        .line-dot { fill: #3498db; }
        .line-dot:hover { fill: #2980b9; r: 5; }
        .progress-section { background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .progress-section h3 { font-size: 16px; color: #2c3e50; margin-bottom: 10px; }
        .lift-progress { padding: 10px 0; border-bottom: 1px solid #eee; }
        .lift-progress:last-child { border-bottom: none; }
        .lift-name { font-weight: 600; color: #2c3e50; margin-bottom: 5px; }
        .lift-stats { display: flex; justify-content: space-between; font-size: 13px; color: #666; }
        .lift-change { font-weight: 600; }
        .lift-change.positive { color: #27ae60; }
        .lift-change.negative { color: #e74c3c; }

        /* Setup overlay */
        .setup-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: none; align-items: center; justify-content: center; padding: 20px; }
        .setup-overlay.active { display: flex; }
        .setup-modal { background: white; border-radius: 12px; max-width: 500px; width: 100%; max-height: 90vh; overflow-y: auto; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); }
        .setup-modal h2 { font-size: 24px; margin-bottom: 10px; color: #2c3e50; }
        .setup-modal p { color: #666; margin-bottom: 25px; font-size: 14px; }
        .setup-section { margin-bottom: 25px; }
        .setup-section h3 { font-size: 16px; color: #2c3e50; margin-bottom: 12px; }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(102, 126, 234, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(102, 126, 234, 0);
            }
        }

        /* Dark Mode Toggle Button */
        .theme-toggle {
            position: fixed;
            bottom: 90px;
            right: var(--spacing-lg);
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--gradient-primary);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 999;
        }
        .theme-toggle:hover {
            transform: scale(1.1) rotate(15deg);
            box-shadow: var(--shadow-xl);
        }
        .theme-toggle:active {
            transform: scale(0.95) rotate(0deg);
        }

        /* Floating Action Button for Rest Timer */
        .timer-fab {
            position: fixed;
            bottom: 90px;
            right: var(--spacing-lg);
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--gradient-bench);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 998;
            animation: pulse 2s infinite;
        }
        .timer-fab:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-xl);
            animation: none;
        }
        .timer-fab:active {
            transform: scale(0.95);
        }
        @media (max-width: 768px) {
            .timer-fab {
                bottom: 150px;
            }
        }

        /* Improved Settings & Forms */
        .settings-section {
            background: var(--bg-primary);
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color-light);
        }
        .settings-section h2 {
            font-size: 20px;
            margin-bottom: var(--spacing-md);
            color: var(--text-primary);
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        .form-group {
            margin-bottom: var(--spacing-md);
        }
        .form-group label {
            display: block;
            font-size: 13px;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-xs);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px var(--spacing-md);
            font-size: 15px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-sm);
            background: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* Improved Progress Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }
        .stat-card {
            background: var(--bg-primary);
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            text-align: center;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color-light);
        }
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }
        .stat-value {
            font-size: 32px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: var(--spacing-xs);
            letter-spacing: -1px;
        }
        .stat-label {
            font-size: 11px;
            color: var(--text-tertiary);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }
        .stat-card.highlight {
            background: var(--gradient-primary);
            color: white;
            border: none;
        }
        .stat-card.highlight .stat-value,
        .stat-card.highlight .stat-label {
            color: white;
        }

        /* Plate Calculator - Simple Text Display */
        .plate-calculator {
            margin-top: var(--spacing-md);
            padding: var(--spacing-sm) var(--spacing-md);
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            border-left: 3px solid #10B981;
        }
        .plate-summary {
            font-size: 12px;
        }
        .plate-summary-label {
            font-weight: 600;
            color: var(--text-tertiary);
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }
        .plate-summary-value {
            color: var(--text-primary);
            font-weight: 600;
            font-size: 13px;
        }

        /* Empty States */
        .empty-state {
            text-align: center;
            padding: var(--spacing-xl) var(--spacing-lg);
            color: var(--text-secondary);
        }
        .empty-state-icon {
            font-size: 72px;
            margin-bottom: var(--spacing-md);
            opacity: 0.6;
            animation: bounce 2s infinite;
        }
        .empty-state-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--spacing-sm);
            letter-spacing: -0.3px;
        }
        .empty-state-description {
            font-size: 14px;
            color: var(--text-secondary);
            max-width: 320px;
            margin: 0 auto var(--spacing-lg);
            line-height: 1.5;
        }
        .empty-state-action {
            display: inline-block;
            padding: 12px 24px;
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--radius-md);
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }
        .empty-state-action:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Plate calculator info */
        .plate-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-sm) var(--spacing-md);
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            margin-top: var(--spacing-md);
            font-size: 12px;
        }
        .plate-info-label {
            color: var(--text-tertiary);
            font-weight: 600;
        }
        .plate-info-value {
            color: var(--text-primary);
            font-weight: 700;
        }

        /* Progress Rings */
        .progress-ring-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto var(--spacing-md);
        }
        .progress-ring {
            transform: rotate(-90deg);
        }
        .progress-ring-circle {
            transition: stroke-dashoffset 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .progress-ring-bg {
            fill: none;
            stroke: var(--border-color);
            stroke-width: 8;
        }
        [data-theme="dark"] .progress-ring-bg {
            stroke: var(--border-color-light);
        }
        .progress-ring-fill {
            fill: none;
            stroke-width: 8;
            stroke-linecap: round;
        }
        .progress-ring-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        .progress-ring-value {
            font-size: 24px;
            font-weight: 800;
            color: var(--text-primary);
            letter-spacing: -0.5px;
        }
        .progress-ring-label {
            font-size: 10px;
            color: var(--text-tertiary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        /* Stat card with ring */
        .stat-card.with-ring {
            padding: var(--spacing-lg) var(--spacing-md);
        }

        /* Bottom Navigation Bar - Mobile First */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-primary);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-around;
            padding: var(--spacing-xs) 0;
            z-index: 100;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        [data-theme="dark"] .bottom-nav {
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.5);
        }
        .bottom-nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-sm) var(--spacing-xs);
            color: var(--text-tertiary);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            border: none;
            background: transparent;
            position: relative;
        }
        .bottom-nav-item:active {
            transform: scale(0.95);
        }
        .bottom-nav-item.active {
            color: #667eea;
        }
        .bottom-nav-item.active::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 32px;
            height: 3px;
            background: var(--gradient-primary);
            border-radius: 0 0 3px 3px;
        }
        .bottom-nav-icon {
            font-size: 22px;
            margin-bottom: 2px;
            transition: transform 0.3s ease;
        }
        .bottom-nav-item.active .bottom-nav-icon {
            transform: translateY(-2px);
        }
        .bottom-nav-label {
            font-size: 10px;
            font-weight: 600;
            letter-spacing: 0.3px;
            margin-top: 2px;
        }

        /* Hide top tabs on mobile, show bottom nav */
        @media (max-width: 768px) {
            .nav-tabs {
                display: none;
            }
            body {
                padding-bottom: 70px;
            }
        }

        /* On larger screens, hide bottom nav, show top tabs */
        @media (min-width: 769px) {
            .bottom-nav {
                display: none;
            }
        }

        /* Compact header */
        .header {
            padding: 12px var(--spacing-lg);
        }
        .header h1 {
            font-size: 20px;
            margin-bottom: 4px;
        }

        /* Page transition animations */
        .tab-content {
            animation: slideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Adjust theme toggle position for bottom nav */
        @media (max-width: 768px) {
            .theme-toggle {
                bottom: 80px;
            }
        }
    </style>

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="SBS Tracker">
    <link rel="manifest" href="./manifest.json">
    <link rel="apple-touch-icon" href="./icon-192.png">
</head>
<body>
    <!-- Quick Setup Overlay -->
    <div id="setup-overlay" class="setup-overlay">
        <div class="setup-modal">
            <h2>Welcome to SBS Tracker!</h2>
            <p>Let's get you set up. Enter your current week and 1RM maxes to get started.</p>

            <div class="setup-section">
                <h3>Which program are you running?</h3>
                <div class="form-group">
                    <label>Program Type</label>
                    <select id="setup-program-type" onchange="updateProgramVariants()">
                        <option value="strength" selected>Reps to Failure (RTF) - 20 weeks</option>
                        <option value="hypertrophy">Hypertrophy - 21 weeks</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Program Variant</label>
                    <select id="setup-program">
                        <option value="2x">2x - 2 days per week</option>
                        <option value="3x" selected>3x - 3 days per week</option>
                        <option value="4x">4x - 4 days per week</option>
                        <option value="5x">5x - 5 days per week</option>
                    </select>
                </div>
            </div>

            <div class="setup-section">
                <h3>Which week are you starting on?</h3>
                <div class="form-group">
                    <label>Starting Week</label>
                    <select id="setup-week">
                        <option value="1">Week 1</option>
                        <option value="2">Week 2</option>
                        <option value="3">Week 3</option>
                        <option value="4">Week 4</option>
                        <option value="5">Week 5</option>
                        <option value="6">Week 6</option>
                        <option value="7">Week 7 (Deload)</option>
                        <option value="8">Week 8</option>
                        <option value="9">Week 9</option>
                        <option value="10">Week 10</option>
                        <option value="11">Week 11</option>
                        <option value="12">Week 12</option>
                        <option value="13">Week 13</option>
                        <option value="14">Week 14 (Deload)</option>
                        <option value="15">Week 15</option>
                        <option value="16" selected>Week 16</option>
                        <option value="17">Week 17</option>
                        <option value="18">Week 18</option>
                        <option value="19">Week 19</option>
                        <option value="20">Week 20</option>
                    </select>
                </div>
            </div>

            <div class="setup-section">
                <h3>Enter your 1RM maxes (kg)</h3>
                <div class="form-group">
                    <label>Squat 1RM</label>
                    <input type="number" id="setup-squat" value="100" step="2.5" placeholder="e.g. 100">
                </div>
                <div class="form-group">
                    <label>Bench Press 1RM</label>
                    <input type="number" id="setup-bench" value="100" step="2.5" placeholder="e.g. 100">
                </div>
                <div class="form-group">
                    <label>Deadlift 1RM</label>
                    <input type="number" id="setup-deadlift" value="140" step="2.5" placeholder="e.g. 140">
                </div>
                <div class="form-group">
                    <label>OHP 1RM</label>
                    <input type="number" id="setup-ohp" value="50" step="2.5" placeholder="e.g. 50">
                </div>
            </div>

            <div class="setup-section">
                <h3>Choose Your Auxiliary Exercises</h3>
                <p style="font-size: 12px; color: #666; margin-bottom: 15px;">Select which exercises you want to use as accessories for each main lift.</p>

                <div class="form-group">
                    <label>Squat Auxiliary 1</label>
                    <select id="setup-squat-aux-1">
                        <option value="Front Squat">Front Squat</option>
                        <option value="Paused Squat">Paused Squat</option>
                        <option value="High Bar Squat">High Bar Squat</option>
                        <option value="Beltless Squat">Beltless Squat</option>
                        <option value="Wider Stance Squat">Wider Stance Squat</option>
                        <option value="Narrower Stance Squat">Narrower Stance Squat</option>
                        <option value="Box Squat">Box Squat</option>
                        <option value="Pin Squat">Pin Squat</option>
                        <option value="Half Squat">Half Squat</option>
                        <option value="Good Morning">Good Morning</option>
                        <option value="Squat With Slow Eccentric">Squat With Slow Eccentric</option>
                        <option value="Leg Press" selected>Leg Press</option>
                        <option value="Hack Squat">Hack Squat</option>
                        <option value="Bulgarian Split Squat">Bulgarian Split Squat</option>
                        <option value="Lunges">Lunges</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Squat Auxiliary 2</label>
                    <select id="setup-squat-aux-2">
                        <option value="Front Squat">Front Squat</option>
                        <option value="Paused Squat">Paused Squat</option>
                        <option value="High Bar Squat">High Bar Squat</option>
                        <option value="Beltless Squat">Beltless Squat</option>
                        <option value="Wider Stance Squat">Wider Stance Squat</option>
                        <option value="Narrower Stance Squat">Narrower Stance Squat</option>
                        <option value="Box Squat">Box Squat</option>
                        <option value="Pin Squat">Pin Squat</option>
                        <option value="Half Squat">Half Squat</option>
                        <option value="Good Morning">Good Morning</option>
                        <option value="Squat With Slow Eccentric">Squat With Slow Eccentric</option>
                        <option value="Leg Press">Leg Press</option>
                        <option value="Hack Squat" selected>Hack Squat</option>
                        <option value="Bulgarian Split Squat">Bulgarian Split Squat</option>
                        <option value="Lunges">Lunges</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Bench Auxiliary 1</label>
                    <select id="setup-bench-aux-1">
                        <option value="Close Grip Bench">Close Grip Bench</option>
                        <option value="Long Pause Bench">Long Pause Bench</option>
                        <option value="Spoto Press">Spoto Press</option>
                        <option value="Incline Press" selected>Incline Press</option>
                        <option value="Wider Grip Bench">Wider Grip Bench</option>
                        <option value="Board Press">Board Press</option>
                        <option value="Pin Press">Pin Press</option>
                        <option value="Slingshot Bench">Slingshot Bench</option>
                        <option value="Bench With Feet Up">Bench With Feet Up</option>
                        <option value="Bench With Slow Eccentric">Bench With Slow Eccentric</option>
                        <option value="DB Bench">DB Bench</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Bench Auxiliary 2</label>
                    <select id="setup-bench-aux-2">
                        <option value="Close Grip Bench">Close Grip Bench</option>
                        <option value="Long Pause Bench">Long Pause Bench</option>
                        <option value="Spoto Press">Spoto Press</option>
                        <option value="Incline Press">Incline Press</option>
                        <option value="Wider Grip Bench">Wider Grip Bench</option>
                        <option value="Board Press">Board Press</option>
                        <option value="Pin Press">Pin Press</option>
                        <option value="Slingshot Bench">Slingshot Bench</option>
                        <option value="Bench With Feet Up">Bench With Feet Up</option>
                        <option value="Bench With Slow Eccentric">Bench With Slow Eccentric</option>
                        <option value="DB Bench" selected>DB Bench</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Deadlift Auxiliary</label>
                    <select id="setup-deadlift-aux">
                        <option value="Sumo Deadlift">Sumo Deadlift</option>
                        <option value="Conventional Deadlift">Conventional Deadlift</option>
                        <option value="Block Pull">Block Pull</option>
                        <option value="Rack Pull">Rack Pull</option>
                        <option value="Deficit Deadlift">Deficit Deadlift</option>
                        <option value="Romanian Deadlift" selected>Romanian Deadlift</option>
                        <option value="Stiff Leg Deadlift">Stiff Leg Deadlift</option>
                        <option value="Snatch Grip Deadlift">Snatch Grip Deadlift</option>
                        <option value="Trap Bar Deadlift">Trap Bar Deadlift</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>OHP Auxiliary</label>
                    <select id="setup-ohp-aux">
                        <option value="Push Press">Push Press</option>
                        <option value="Behind The Neck OHP">Behind The Neck OHP</option>
                        <option value="Seated OHP">Seated OHP</option>
                        <option value="Incline Press">Incline Press</option>
                        <option value="DB OHP" selected>DB OHP</option>
                    </select>
                </div>
            </div>

            <button class="btn btn-primary" onclick="completeSetup()">Start Training!</button>
        </div>
    </div>

    <div class="header">
        <h1>SBS Workout Tracker</h1>
        <div class="week-info">
            <button class="week-nav-btn" onclick="navigateWeek(-1)" id="prev-week-btn">←</button>
            <span>Week <span id="current-week">16</span> - <span id="program-name">3x</span> Program</span>
            <button class="week-nav-btn" onclick="navigateWeek(1)" id="next-week-btn">→</button>
        </div>
    </div>

    <div class="nav-tabs">
        <button class="nav-tab active" onclick="switchTab('workout')">Workout</button>
        <button class="nav-tab" onclick="switchTab('progress')">Progress</button>
        <button class="nav-tab" onclick="switchTab('settings')">Settings</button>
        <button class="nav-tab" onclick="switchTab('history')">History</button>
    </div>

    <div id="workout-tab" class="tab-content active">
        <div style="background: #ecf0f1; padding: 12px 15px; border-radius: 8px; margin-bottom: 15px; text-align: center;">
            <div style="font-size: 13px; color: #7f8c8d; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Current Week</div>
            <div style="font-size: 28px; font-weight: 700; color: #2c3e50; margin-top: 2px;" id="workout-week-display">16</div>
        </div>
        <div class="day-selector" id="day-selector">
            <!-- Day buttons will be dynamically generated -->
        </div>
        <div id="workout-container"></div>
        <button class="btn btn-secondary" onclick="showRestTimer(); startTimer();" style="margin-top: 10px;">⏱️ Start Rest Timer</button>
        <button class="btn btn-primary" onclick="markDayComplete()" id="mark-day-btn">Mark Day Complete</button>
    </div>

    <!-- Rest Timer -->
    <div id="rest-timer" class="rest-timer" style="display: none;">
        <div class="timer-display" id="timer-display">3:00</div>
        <div class="timer-controls">
            <button class="timer-btn" onclick="startTimer()" id="start-timer-btn">Start</button>
            <button class="timer-btn" onclick="pauseTimer()" id="pause-timer-btn" style="display: none;">Pause</button>
            <button class="timer-btn secondary" onclick="resetTimer()">Reset</button>
            <button class="timer-btn secondary" onclick="closeTimer()">✕</button>
        </div>
    </div>

    <div id="settings-tab" class="tab-content">
        <div class="settings-section">
            <h2>1RM Settings</h2>
            <div class="form-group">
                <label>Squat 1RM (kg)</label>
                <input type="number" id="1rm-squat" value="100" step="2.5">
            </div>
            <div class="form-group">
                <label>Bench Press 1RM (kg)</label>
                <input type="number" id="1rm-bench" value="100" step="2.5">
            </div>
            <div class="form-group">
                <label>Deadlift 1RM (kg)</label>
                <input type="number" id="1rm-deadlift" value="140" step="2.5">
            </div>
            <div class="form-group">
                <label>OHP 1RM (kg)</label>
                <input type="number" id="1rm-ohp" value="50" step="2.5">
            </div>
            <button class="btn btn-secondary" onclick="save1RMs()">Save 1RMs</button>
        </div>

        <div class="settings-section">
            <h2>Week Selection</h2>
            <div class="form-group">
                <label>Jump to Week</label>
                <select id="week-selector">
                    <option value="1">Week 1</option>
                    <option value="2">Week 2</option>
                    <option value="3">Week 3</option>
                    <option value="4">Week 4</option>
                    <option value="5">Week 5</option>
                    <option value="6">Week 6</option>
                    <option value="7">Week 7 (Deload)</option>
                    <option value="8">Week 8</option>
                    <option value="9">Week 9</option>
                    <option value="10">Week 10</option>
                    <option value="11">Week 11</option>
                    <option value="12">Week 12</option>
                    <option value="13">Week 13</option>
                    <option value="14">Week 14 (Deload)</option>
                    <option value="15">Week 15</option>
                    <option value="16" selected>Week 16</option>
                    <option value="17">Week 17</option>
                    <option value="18">Week 18</option>
                    <option value="19">Week 19</option>
                    <option value="20">Week 20</option>
                </select>
            </div>
            <button class="btn btn-secondary" onclick="jumpToWeek()">Jump to Selected Week</button>
        </div>

        <div class="settings-section">
            <h2>Auxiliary Exercises</h2>
            <p style="font-size: 12px; color: #666; margin-bottom: 15px;">Choose which auxiliary exercises to use for each main lift. Changes will apply to future workouts.</p>

            <div class="form-group">
                <label>Squat Auxiliary 1</label>
                <select id="settings-squat-aux-1">
                    <option value="Front Squat">Front Squat</option>
                    <option value="Paused Squat">Paused Squat</option>
                    <option value="High Bar Squat">High Bar Squat</option>
                    <option value="Beltless Squat">Beltless Squat</option>
                    <option value="Wider Stance Squat">Wider Stance Squat</option>
                    <option value="Narrower Stance Squat">Narrower Stance Squat</option>
                    <option value="Box Squat">Box Squat</option>
                    <option value="Pin Squat">Pin Squat</option>
                    <option value="Half Squat">Half Squat</option>
                    <option value="Good Morning">Good Morning</option>
                    <option value="Squat With Slow Eccentric">Squat With Slow Eccentric</option>
                    <option value="Leg Press" selected>Leg Press</option>
                    <option value="Hack Squat">Hack Squat</option>
                    <option value="Bulgarian Split Squat">Bulgarian Split Squat</option>
                    <option value="Lunges">Lunges</option>
                </select>
            </div>

            <div class="form-group">
                <label>Squat Auxiliary 2</label>
                <select id="settings-squat-aux-2">
                    <option value="Front Squat">Front Squat</option>
                    <option value="Paused Squat">Paused Squat</option>
                    <option value="High Bar Squat">High Bar Squat</option>
                    <option value="Beltless Squat">Beltless Squat</option>
                    <option value="Wider Stance Squat">Wider Stance Squat</option>
                    <option value="Narrower Stance Squat">Narrower Stance Squat</option>
                    <option value="Box Squat">Box Squat</option>
                    <option value="Pin Squat">Pin Squat</option>
                    <option value="Half Squat">Half Squat</option>
                    <option value="Good Morning">Good Morning</option>
                    <option value="Squat With Slow Eccentric">Squat With Slow Eccentric</option>
                    <option value="Leg Press">Leg Press</option>
                    <option value="Hack Squat" selected>Hack Squat</option>
                    <option value="Bulgarian Split Squat">Bulgarian Split Squat</option>
                    <option value="Lunges">Lunges</option>
                </select>
            </div>

            <div class="form-group">
                <label>Bench Auxiliary 1</label>
                <select id="settings-bench-aux-1">
                    <option value="Close Grip Bench">Close Grip Bench</option>
                    <option value="Long Pause Bench">Long Pause Bench</option>
                    <option value="Spoto Press">Spoto Press</option>
                    <option value="Incline Press" selected>Incline Press</option>
                    <option value="Wider Grip Bench">Wider Grip Bench</option>
                    <option value="Board Press">Board Press</option>
                    <option value="Pin Press">Pin Press</option>
                    <option value="Slingshot Bench">Slingshot Bench</option>
                    <option value="Bench With Feet Up">Bench With Feet Up</option>
                    <option value="Bench With Slow Eccentric">Bench With Slow Eccentric</option>
                    <option value="DB Bench">DB Bench</option>
                </select>
            </div>

            <div class="form-group">
                <label>Bench Auxiliary 2</label>
                <select id="settings-bench-aux-2">
                    <option value="Close Grip Bench">Close Grip Bench</option>
                    <option value="Long Pause Bench">Long Pause Bench</option>
                    <option value="Spoto Press">Spoto Press</option>
                    <option value="Incline Press">Incline Press</option>
                    <option value="Wider Grip Bench">Wider Grip Bench</option>
                    <option value="Board Press">Board Press</option>
                    <option value="Pin Press">Pin Press</option>
                    <option value="Slingshot Bench">Slingshot Bench</option>
                    <option value="Bench With Feet Up">Bench With Feet Up</option>
                    <option value="Bench With Slow Eccentric">Bench With Slow Eccentric</option>
                    <option value="DB Bench" selected>DB Bench</option>
                </select>
            </div>

            <div class="form-group">
                <label>Deadlift Auxiliary</label>
                <select id="settings-deadlift-aux">
                    <option value="Sumo Deadlift">Sumo Deadlift</option>
                    <option value="Conventional Deadlift">Conventional Deadlift</option>
                    <option value="Block Pull">Block Pull</option>
                    <option value="Rack Pull">Rack Pull</option>
                    <option value="Deficit Deadlift">Deficit Deadlift</option>
                    <option value="Romanian Deadlift" selected>Romanian Deadlift</option>
                    <option value="Stiff Leg Deadlift">Stiff Leg Deadlift</option>
                    <option value="Snatch Grip Deadlift">Snatch Grip Deadlift</option>
                    <option value="Trap Bar Deadlift">Trap Bar Deadlift</option>
                </select>
            </div>

            <div class="form-group">
                <label>OHP Auxiliary</label>
                <select id="settings-ohp-aux">
                    <option value="Push Press">Push Press</option>
                    <option value="Behind The Neck OHP">Behind The Neck OHP</option>
                    <option value="Seated OHP">Seated OHP</option>
                    <option value="Incline Press">Incline Press</option>
                    <option value="DB OHP" selected>DB OHP</option>
                </select>
            </div>

            <button class="btn btn-secondary" onclick="saveAuxiliaryExercises()">Save Auxiliary Exercises</button>
        </div>

        <div class="settings-section">
            <h2>Export & Backup</h2>
            <p style="font-size: 12px; color: #666; margin-bottom: 15px;">Export your workout data for backup or analysis. Import to restore from a backup.</p>

            <button class="btn btn-secondary" onclick="exportToJSON()">Export Full Backup (JSON)</button>
            <button class="btn btn-secondary" onclick="exportToCSV()">Export Workout History (CSV)</button>

            <div class="form-group" style="margin-top: 20px;">
                <label>Import Backup (JSON)</label>
                <input type="file" id="import-file" accept=".json" style="padding: 8px;">
            </div>
            <button class="btn btn-secondary" onclick="importFromJSON()">Import Backup</button>
        </div>

        <div class="settings-section">
            <h2>Rest Timer</h2>
            <p style="font-size: 12px; color: #666; margin-bottom: 15px;">Configure rest timer between sets.</p>

            <div class="form-group">
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="rest-timer-enabled" checked>
                    Enable Rest Timer
                </label>
            </div>

            <div class="form-group">
                <label>Rest Duration (seconds)</label>
                <input type="number" id="rest-timer-duration" value="180" min="30" max="600" step="30">
                <small style="color: #666; font-size: 11px;">Recommended: 180-300 seconds (3-5 minutes) for main lifts</small>
            </div>

            <div class="form-group">
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="rest-timer-autostart">
                    Auto-start timer after entering AMRAP reps
                </label>
            </div>

            <button class="btn btn-secondary" onclick="saveRestTimerSettings()">Save Rest Timer Settings</button>
        </div>

        <div class="settings-section">
            <h2>Plate Calculator</h2>
            <p style="font-size: 12px; color: #666; margin-bottom: 15px;">Configure plate calculator to show which plates to load on the bar.</p>

            <div class="form-group">
                <label>
                    <input type="checkbox" id="plate-calculator-enabled" onchange="togglePlateCalculator()" checked>
                    Show Plate Calculator
                </label>
            </div>

            <div class="form-group">
                <label>Barbell Weight (kg)</label>
                <select id="barbell-weight">
                    <option value="20" selected>20kg (Standard Olympic)</option>
                    <option value="15">15kg (Women's Olympic)</option>
                    <option value="10">10kg (Training Bar)</option>
                    <option value="0">0kg (Dumbbells/Machines)</option>
                </select>
            </div>

            <button class="btn btn-secondary" onclick="savePlateSettings()">Save Plate Settings</button>
        </div>

        <div class="settings-section">
            <h2>Change Program</h2>
            <p style="font-size: 12px; color: #666; margin-bottom: 15px;">Switch between Reps to Failure and Hypertrophy programs, or change your program variant. Your workout history will be preserved.</p>

            <div class="form-group">
                <label>Program Type</label>
                <select id="settings-program-type" onchange="updateSettingsProgramVariants()">
                    <option value="strength">Reps to Failure (RTF) - 20 weeks</option>
                    <option value="hypertrophy">Hypertrophy - 21 weeks</option>
                </select>
            </div>

            <div class="form-group">
                <label>Program Variant</label>
                <select id="settings-program-variant">
                    <option value="2x">2x Frequency</option>
                    <option value="3x">3x Frequency</option>
                    <option value="4x">4x Frequency</option>
                    <option value="5x">5x Frequency</option>
                </select>
            </div>

            <button class="btn btn-secondary" onclick="changeProgram()">Change Program</button>
        </div>

        <div class="settings-section">
            <h2>Data Management</h2>
            <button class="btn btn-secondary" onclick="loadHistoricalData()">Load Weeks 1-15 History from Excel</button>
            <button class="btn btn-danger" onclick="resetAll()">Reset All Data</button>
        </div>
    </div>

    <div id="progress-tab" class="tab-content">
        <div id="progress-container"></div>
    </div>

    <div id="history-tab" class="tab-content">
        <div id="history-container"></div>
    </div>

    <!-- Bottom Navigation Bar -->
    <nav class="bottom-nav">
        <button class="bottom-nav-item active" onclick="switchTab('workout')" data-tab="workout">
            <div class="bottom-nav-icon">💪</div>
            <div class="bottom-nav-label">Workout</div>
        </button>
        <button class="bottom-nav-item" onclick="switchTab('progress')" data-tab="progress">
            <div class="bottom-nav-icon">📊</div>
            <div class="bottom-nav-label">Progress</div>
        </button>
        <button class="bottom-nav-item" onclick="switchTab('settings')" data-tab="settings">
            <div class="bottom-nav-icon">⚙️</div>
            <div class="bottom-nav-label">Settings</div>
        </button>
        <button class="bottom-nav-item" onclick="switchTab('history')" data-tab="history">
            <div class="bottom-nav-icon">📜</div>
            <div class="bottom-nav-label">History</div>
        </button>
    </nav>

    <!-- Floating Action Buttons -->
    <button class="timer-fab" onclick="showRestTimer(); startTimer();" title="Start rest timer">
        ⏱️
    </button>

    <button class="theme-toggle" onclick="toggleTheme()" id="theme-toggle" title="Toggle dark mode">
        <span id="theme-icon">🌙</span>
    </button>

    <script src="hypertrophy-program-data.js"></script>
    <script>
        // Program data embedded from Excel
        const ALL_PROGRAMS = {
                "2x": {
                        "1": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 60.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 15.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 97.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 35.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 115.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 55.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ]
                        },
                        "2": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 67.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 105.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 122.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ]
                        },
                        "3": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 112.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ]
                        },
                        "4": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 75.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 65.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 15.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 102.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 120.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ]
                        },
                        "5": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 80.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 70.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 107.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 127.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 60.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ]
                        },
                        "6": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 85.0,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 75.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 115.0,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 137.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 65.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ]
                        },
                        "7": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 52.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 12.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 85.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 30.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 95.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 45.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ]
                        },
                        "8": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 67.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 105.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 122.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ]
                        },
                        "9": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 112.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ]
                        },
                        "10": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 87.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 120.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ]
                        },
                        "11": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 80.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 70.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 107.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 127.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 60.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ]
                        },
                        "12": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 85.0,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 75.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 115.0,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 137.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 65.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ]
                        },
                        "13": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 87.5,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 90.0,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 80.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 122.5,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 45.0,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 147.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 70.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ]
                        },
                        "14": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 52.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 12.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 85.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 30.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 95.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 45.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ]
                        },
                        "15": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 112.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ]
                        },
                        "16": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 87.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 120.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ]
                        },
                        "17": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 90.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 92.5,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 125.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 45.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 152.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ]
                        },
                        "18": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 87.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 120.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ]
                        },
                        "19": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 90.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 92.5,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 125.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 45.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 152.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ]
                        },
                        "20": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 95.0,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Bench Press",
                                                "weight": 97.5,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 87.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 22.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 132.5,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 47.5,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 162.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 77.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ]
                        }
                },
                "3x": {
                        "1": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 72.5,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 35.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 115.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 97.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 55.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 115.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 15.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ]
                        },
                        "2": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 72.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 127.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 105.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 120.0,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 15.0,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ]
                        },
                        "3": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 140.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 115.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 140.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ]
                        },
                        "4": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 67.5,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 60.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 130.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 107.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 130.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 15.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ]
                        },
                        "5": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 72.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 65.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 80.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 140.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 112.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ]
                        },
                        "6": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 80.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 85.0,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 165.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 122.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 155.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ]
                        },
                        "7": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 55.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 47.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 30.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 105.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 87.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 52.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 107.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 12.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ]
                        },
                        "8": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 72.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 135.0,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 110.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 140.0,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 15.0,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ]
                        },
                        "9": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 77.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 150.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 120.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 157.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ]
                        },
                        "10": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 82.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 90.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 160.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 127.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 167.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ]
                        },
                        "11": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 75.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 65.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 82.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 145.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 115.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 70.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 150.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ]
                        },
                        "12": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 80.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 87.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 160.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 122.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 75.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 162.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ]
                        },
                        "13": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 87.5,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 85.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 92.5,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 170.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 132.5,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 175.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ]
                        },
                        "14": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 55.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 47.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 65.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 30.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 107.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 90.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 50.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 112.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 12.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ]
                        },
                        "15": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 77.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 85.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 150.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 120.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 157.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ]
                        },
                        "16": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 87.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 85.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 90.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 162.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 127.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 167.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ]
                        },
                        "17": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 92.5,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 90.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 77.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 97.5,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 45.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 172.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 135.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 77.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 180.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ]
                        },
                        "18": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 87.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 85.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 90.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 162.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 127.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 167.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ]
                        },
                        "19": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 92.5,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 90.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 77.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 97.5,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 45.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 172.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 135.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 77.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 180.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ]
                        },
                        "20": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 97.5,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 97.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 82.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 102.5,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "OHP",
                                                "weight": 47.5,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 182.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 142.5,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 82.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 190.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 22.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ]
                        }
                },
                "4x": {
                        "1": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 55.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 60.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 115.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 15.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 97.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 55.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 35.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 115.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ]
                        },
                        "2": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 65.0,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 122.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 105.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 122.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ]
                        },
                        "3": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 112.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ]
                        },
                        "4": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 62.5,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 120.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 15.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 102.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 120.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ]
                        },
                        "5": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 60.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 67.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 127.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 107.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 60.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 127.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ]
                        },
                        "6": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 65.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 137.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 115.0,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 65.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 137.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ]
                        },
                        "7": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 45.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 50.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 95.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 12.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 85.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 45.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 30.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 95.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ]
                        },
                        "8": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 65.0,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 122.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 105.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 122.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ]
                        },
                        "9": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 112.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ]
                        },
                        "10": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 120.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ]
                        },
                        "11": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 60.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 67.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 127.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 107.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 60.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 127.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ]
                        },
                        "12": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 65.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 137.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 115.0,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 65.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 137.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ]
                        },
                        "13": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 87.5,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 70.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 87.5,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 147.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 122.5,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 70.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 45.0,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 147.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ]
                        },
                        "14": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 45.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 50.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 95.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 12.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 85.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 45.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 30.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 95.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ]
                        },
                        "15": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 112.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ]
                        },
                        "16": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 120.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ]
                        },
                        "17": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 90.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 90.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 152.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 125.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 45.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 152.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ]
                        },
                        "18": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 120.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ]
                        },
                        "19": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 90.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 90.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 152.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 125.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 45.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 152.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ]
                        },
                        "20": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 95.0,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 77.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 95.0,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 162.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 22.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 132.5,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 77.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 47.5,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 162.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ]
                        }
                },
                "5x": {
                        "1": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 15.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 115.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 97.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 55.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 35.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 115.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 55.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 60.0,
                                                "reps": 7,
                                                "target": 14,
                                                "sets": 5
                                        }
                                ]
                        },
                        "2": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 122.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 105.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 122.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 65.0,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ]
                        },
                        "3": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 112.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ]
                        },
                        "4": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 15.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 120.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 102.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 120.0,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 62.5,
                                                "reps": 7,
                                                "target": 13,
                                                "sets": 5
                                        }
                                ]
                        },
                        "5": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 127.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 107.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 60.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 127.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 60.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 67.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ]
                        },
                        "6": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 137.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 115.0,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 65.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 137.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 65.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ]
                        },
                        "7": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 12.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 95.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 85.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 45.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 30.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 95.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 45.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 50.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ]
                        },
                        "8": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 122.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 105.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 37.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 122.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 57.5,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 65.0,
                                                "reps": 6,
                                                "target": 12,
                                                "sets": 5
                                        }
                                ]
                        },
                        "9": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 112.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ]
                        },
                        "10": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 120.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ]
                        },
                        "11": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 127.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 107.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 60.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 127.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 60.0,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 67.5,
                                                "reps": 6,
                                                "target": 11,
                                                "sets": 5
                                        }
                                ]
                        },
                        "12": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 82.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 137.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 115.0,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 65.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 3,
                                                "target": 5,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 137.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 65.0,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 72.5,
                                                "reps": 5,
                                                "target": 9,
                                                "sets": 5
                                        }
                                ]
                        },
                        "13": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 87.5,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 87.5,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 147.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 122.5,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 70.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 45.0,
                                                "reps": 2,
                                                "target": 3,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 147.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 70.0,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 77.5,
                                                "reps": 4,
                                                "target": 7,
                                                "sets": 5
                                        }
                                ]
                        },
                        "14": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 12.5,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 60.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 95.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 85.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 45.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 30.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 95.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 45.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 50.0,
                                                "reps": 5,
                                                "target": null,
                                                "sets": 5
                                        }
                                ]
                        },
                        "15": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 17.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 112.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 40.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 132.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 62.5,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 70.0,
                                                "reps": 5,
                                                "target": 10,
                                                "sets": 5
                                        }
                                ]
                        },
                        "16": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 120.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ]
                        },
                        "17": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 90.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 90.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 152.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 125.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 45.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 152.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ]
                        },
                        "18": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 120.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 42.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 142.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 67.5,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 75.0,
                                                "reps": 4,
                                                "target": 8,
                                                "sets": 5
                                        }
                                ]
                        },
                        "19": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 90.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 20.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 90.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 152.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 125.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 45.0,
                                                "reps": 1,
                                                "target": 2,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 152.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 72.5,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 80.0,
                                                "reps": 3,
                                                "target": 6,
                                                "sets": 5
                                        }
                                ]
                        },
                        "20": {
                                "1": [
                                        {
                                                "name": "Squat",
                                                "weight": 95.0,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "DB OHP",
                                                "weight": 22.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ],
                                "2": [
                                        {
                                                "name": "Bench Press",
                                                "weight": 95.0,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 162.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ],
                                "3": [
                                        {
                                                "name": "Deadlift",
                                                "weight": 132.5,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Incline Press",
                                                "weight": 77.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ],
                                "4": [
                                        {
                                                "name": "OHP",
                                                "weight": 47.5,
                                                "reps": 1,
                                                "target": 1,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Leg Press",
                                                "weight": 162.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ],
                                "5": [
                                        {
                                                "name": "Incline Press",
                                                "weight": 77.5,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        },
                                        {
                                                "name": "Romanian Deadlift",
                                                "weight": 85.0,
                                                "reps": 2,
                                                "target": 4,
                                                "sets": 5
                                        }
                                ]
                        }
                }
        };
        
        const AMRAP_HISTORY_DATA = {
        "1": {
                "1": [
                        10,
                        17,
                        21
                ],
                "2": [
                        12,
                        10,
                        20
                ],
                "3": [
                        10,
                        20,
                        20,
                        14
                ]
        },
        "2": {
                "1": [
                        8,
                        18,
                        15
                ],
                "2": [
                        9,
                        10,
                        15
                ],
                "3": [
                        10,
                        20,
                        20,
                        14
                ]
        },
        "3": {
                "1": [
                        6,
                        15,
                        13
                ],
                "2": [
                        6,
                        6,
                        null
                ],
                "3": [
                        10,
                        15,
                        15,
                        null
                ]
        },
        "4": {
                "1": [
                        10,
                        15,
                        13
                ],
                "2": [
                        10,
                        6,
                        15
                ],
                "3": [
                        11,
                        15,
                        15,
                        15
                ]
        },
        "5": {
                "1": [
                        8,
                        14,
                        11
                ],
                "2": [
                        8,
                        9,
                        20
                ],
                "3": [
                        10,
                        15,
                        15,
                        9
                ]
        },
        "6": {
                "1": [
                        null,
                        null,
                        null
                ],
                "2": [
                        5,
                        6,
                        10
                ],
                "3": [
                        5,
                        12,
                        12,
                        15
                ]
        },
        "7": {
                "1": [
                        null,
                        null,
                        null
                ],
                "2": [
                        null,
                        null,
                        null
                ],
                "3": [
                        null,
                        null,
                        null,
                        null
                ]
        },
        "8": {
                "1": [
                        null,
                        null,
                        null
                ],
                "2": [
                        10,
                        9,
                        18
                ],
                "3": [
                        9,
                        12,
                        18,
                        14
                ]
        },
        "9": {
                "1": [
                        null,
                        null,
                        null
                ],
                "2": [
                        9,
                        8,
                        10
                ],
                "3": [
                        null,
                        null,
                        null,
                        null
                ]
        },
        "10": {
                "1": [
                        null,
                        null,
                        null
                ],
                "2": [
                        6,
                        null,
                        null
                ],
                "3": [
                        null,
                        null,
                        null,
                        null
                ]
        },
        "11": {
                "1": [
                        null,
                        null,
                        null
                ],
                "2": [
                        null,
                        null,
                        null
                ],
                "3": [
                        null,
                        null,
                        null,
                        null
                ]
        },
        "12": {
                "1": [
                        5,
                        10,
                        9
                ],
                "2": [
                        5,
                        6,
                        10
                ],
                "3": [
                        7,
                        5,
                        10,
                        10
                ]
        },
        "13": {
                "1": [
                        4,
                        8,
                        7
                ],
                "2": [
                        4,
                        4,
                        8
                ],
                "3": [
                        4,
                        7,
                        null,
                        8
                ]
        },
        "14": {
                "1": [
                        null,
                        null,
                        null
                ],
                "2": [
                        null,
                        null,
                        null
                ],
                "3": [
                        null,
                        null,
                        null,
                        null
                ]
        },
        "15": {
                "1": [
                        6,
                        14,
                        11
                ],
                "2": [
                        7,
                        7,
                        10
                ],
                "3": [
                        null,
                        null,
                        null,
                        null
                ]
        }
};


        // Intensity percentages for each week (% of Training Max)
        // SBS program progressively increases intensity week-to-week
        const WEEK_INTENSITY = {
            1: 0.60, 2: 0.65, 3: 0.70, 4: 0.625, 5: 0.675,
            6: 0.725, 7: 0.50, 8: 0.65, 9: 0.70, 10: 0.75,
            11: 0.675, 12: 0.725, 13: 0.775, 14: 0.50, 15: 0.70,
            16: 0.75, 17: 0.80, 18: 0.75, 19: 0.80, 20: 0.85
        };

        // App state
        let appData = {
            programType: 'strength',  // 'strength' or 'hypertrophy'
            selectedProgram: '3x',  // 2x, 3x, 4x, 5x (or 6x for hypertrophy)
            currentWeek: 16,
            currentDay: 1,
            workouts: {},
            completedDays: {}, // Track completed days per week: { weekNum: { 1: true, 2: false, 3: true } }
            oneRepMaxes: {
                squat: 100,
                bench: 100,
                deadlift: 140,
                ohp: 50
            },
            auxiliaryExercises: {
                'squat-aux-1': 'Leg Press',
                'squat-aux-2': 'Hack Squat',
                'bench-aux-1': 'Incline Press',
                'bench-aux-2': 'DB Bench',
                'deadlift-aux': 'Romanian Deadlift',
                'ohp-aux': 'DB OHP'
            },
            plateCalculator: {
                enabled: true,
                barbellWeight: 20,  // kg
                availablePlates: [25, 20, 15, 10, 5, 2.5, 1.25]  // kg, sorted descending
            },
            personalRecords: {
                // Track PRs per exercise: { exerciseName: { estimated1RM, weight, reps, date, week } }
            },
            restTimer: {
                enabled: true,
                duration: 180,  // seconds (3 minutes default)
                autoStart: false
            },
            setupComplete: false
        };

        // Timer state (not persisted)
        let timerState = {
            active: false,
            paused: false,
            remaining: 0,
            interval: null
        };

        // Helper function to get max week based on program type
        function getMaxWeek() {
            return appData.programType === 'hypertrophy' ? 21 : 20;
        }

        // Progression table
        function calculateProgression(amrapReps, target) {
            if (!target) return 0;
            const diff = amrapReps - target;

            // Below target
            if (diff <= -2) return -0.05;  // -5%
            if (diff === -1) return -0.02;  // -2%

            // At target
            if (diff === 0) return 0.0;     // 0%

            // Above target
            if (diff === 1) return 0.005;   // +0.5%
            if (diff === 2) return 0.01;    // +1%
            if (diff === 3) return 0.015;   // +1.5%
            if (diff === 4) return 0.02;    // +2%
            if (diff >= 5) return 0.03;     // +3%

            return 0;
        }

        function roundWeight(weight) {
            // Excel MROUND rounds to nearest multiple
            return Math.round(weight / 2.5) * 2.5;
        }

        // Load/save data
        function loadData() {
            const saved = localStorage.getItem('sbs-tracker-v2');
            if (saved) {
                const data = JSON.parse(saved);
                appData = {...appData, ...data};
            }

            // Load current week workout if not in appData
            if (!appData.workouts[appData.currentWeek]) {
                appData.workouts[appData.currentWeek] = getWeekData(appData.currentWeek);
            }
        }

        function saveData() {
            localStorage.setItem('sbs-tracker-v2', JSON.stringify(appData));
        }

        function getWeekData(weekNum) {
            // Get week data based on program type
            const programSource = appData.programType === 'hypertrophy'
                ? (typeof HYPERTROPHY_PROGRAM_WEEKS !== 'undefined' ? HYPERTROPHY_PROGRAM_WEEKS : null)
                : ALL_PROGRAMS;

            if (!programSource) {
                alert('Hypertrophy program data not loaded yet. Please refresh the page.');
                return {1: []};
            }

            const programData = programSource[appData.selectedProgram];
            if (!programData) {
                alert(`Program ${appData.selectedProgram} not found!`);
                return {1: []};
            }

            const weekData = programData[weekNum.toString()];
            if (!weekData) {
                alert(`Week ${weekNum} data not found for ${appData.selectedProgram}!`);
                return {1: []};
            }

            // Deep copy to avoid modifying the source data
            const copiedData = JSON.parse(JSON.stringify(weekData));

            // Apply user's auxiliary exercise selections
            return applyAuxiliaryExercises(copiedData);
        }

        function applyAuxiliaryExercises(weekData) {
            // Define which exercises are main lifts (these should never be replaced)
            const mainLifts = ['Squat', 'Bench Press', 'Deadlift', 'OHP', 'Block Pulls'];

            // Map default exercise names to their auxiliary category
            // Based on SBS Hypertrophy Template defaults
            const defaultAuxiliaryMap = {
                'Leg Press': 'squat-aux-1',
                'Hack Squat': 'squat-aux-2',
                'Incline Press': 'bench-aux-1',
                'DB Bench': 'bench-aux-2',
                'Romanian Deadlift': 'deadlift-aux',
                'DB OHP': 'ohp-aux'
            };

            // Process each day in the week
            for (let day in weekData) {
                const exercises = weekData[day];

                // Replace auxiliary exercises based on default name mapping
                exercises.forEach(ex => {
                    if (!mainLifts.includes(ex.name)) {
                        // Check if this is a default auxiliary exercise
                        const auxCategory = defaultAuxiliaryMap[ex.name];

                        // Apply the replacement if we have user preferences for this category
                        if (auxCategory && appData.auxiliaryExercises && appData.auxiliaryExercises[auxCategory]) {
                            ex.name = appData.auxiliaryExercises[auxCategory];
                        }
                        // Also check old format for backwards compatibility
                        else if (appData.auxiliaryExercises) {
                            // Map old categories to new for backwards compatibility
                            const oldCategoryMap = {
                                'Romanian Deadlift': 'deadlift',
                                'Leg Press': 'squat',
                                'Hack Squat': 'squat',
                                'Incline Press': 'bench',
                                'DB Bench': 'bench',
                                'DB OHP': 'ohp'
                            };

                            const oldCategory = oldCategoryMap[ex.name];
                            if (oldCategory && appData.auxiliaryExercises[oldCategory]) {
                                ex.name = appData.auxiliaryExercises[oldCategory];
                            }
                        }
                    }
                });
            }

            return weekData;
        }

        function getNumDays() {
            // Return number of days based on selected program
            const numDaysMap = {'2x': 2, '3x': 3, '4x': 4, '5x': 5};
            return numDaysMap[appData.selectedProgram] || 3;
        }

        function hasCompletedWorkouts(weekNum) {
            // Check if a week has any completed workouts (AMRAP data or completed days)
            if (!appData.workouts[weekNum]) {
                return false;
            }

            const weekData = appData.workouts[weekNum];

            // Check if any day has AMRAP data
            for (let day = 1; day <= getNumDays(); day++) {
                if (weekData[day]) {
                    const hasAmrap = weekData[day].some(ex => ex.amrapReps !== undefined);
                    if (hasAmrap) {
                        return true;
                    }
                }
            }

            // Check if any day is marked as completed
            if (appData.completedDays[weekNum]) {
                const completedDaysInWeek = Object.values(appData.completedDays[weekNum]);
                if (completedDaysInWeek.some(completed => completed === true)) {
                    return true;
                }
            }

            return false;
        }

        // Theme Toggle Function
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);

            // Update icon
            const icon = document.getElementById('theme-icon');
            icon.textContent = newTheme === 'dark' ? '☀️' : '🌙';

            // Update PWA theme color
            const metaThemeColor = document.querySelector('meta[name="theme-color"]');
            if (newTheme === 'dark') {
                metaThemeColor.setAttribute('content', '#0f0f0f');
            } else {
                metaThemeColor.setAttribute('content', '#667eea');
            }
        }

        // Load saved theme on page load
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = savedTheme === 'system' ? (prefersDark ? 'dark' : 'light') : savedTheme;

            document.documentElement.setAttribute('data-theme', theme);

            // Update icon
            const icon = document.getElementById('theme-icon');
            if (icon) {
                icon.textContent = theme === 'dark' ? '☀️' : '🌙';
            }

            // Update PWA theme color
            const metaThemeColor = document.querySelector('meta[name="theme-color"]');
            if (theme === 'dark') {
                metaThemeColor.setAttribute('content', '#0f0f0f');
            } else {
                metaThemeColor.setAttribute('content', '#667eea');
            }
        }

        // UI Functions
        function switchTab(tabName) {
            // Update top tabs
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

            // Update bottom nav
            document.querySelectorAll('.bottom-nav-item').forEach(item => item.classList.remove('active'));

            // Find and activate the clicked tab (top)
            const clickedTab = Array.from(document.querySelectorAll('.nav-tab')).find(
                tab => tab.textContent.toLowerCase().includes(tabName.toLowerCase())
            );
            if (clickedTab) {
                clickedTab.classList.add('active');
            }

            // Find and activate the bottom nav item
            const clickedBottomNavItem = document.querySelector(`.bottom-nav-item[data-tab="${tabName}"]`);
            if (clickedBottomNavItem) {
                clickedBottomNavItem.classList.add('active');
            }

            // Show the tab content
            document.getElementById(`${tabName}-tab`).classList.add('active');

            if (tabName === 'history') {
                renderHistory();
            } else if (tabName === 'settings') {
                loadAuxiliarySettings();
            } else if (tabName === 'progress') {
                renderProgress();
            }
        }

        function renderDaySelector() {
            const container = document.getElementById('day-selector');
            const numDays = getNumDays();

            let html = '';
            for (let day = 1; day <= numDays; day++) {
                const activeClass = day === appData.currentDay ? 'active' : '';
                html += `<button class="day-btn ${activeClass}" onclick="selectDay(${day})">Day ${day}</button>`;
            }
            container.innerHTML = html;
        }

        function selectDay(day) {
            appData.currentDay = day;
            updateDayButtons();
            renderWorkout();
        }

        function updateDayButtons() {
            const completedDaysForWeek = appData.completedDays[appData.currentWeek] || {};
            document.querySelectorAll('.day-btn').forEach((btn, idx) => {
                const dayNum = idx + 1;
                btn.classList.toggle('active', dayNum === appData.currentDay);
                btn.classList.toggle('completed', completedDaysForWeek[dayNum] === true);
            });
        }

        function renderWorkout() {
            const container = document.getElementById('workout-container');
            const weekData = appData.workouts[appData.currentWeek];
            const exercises = weekData[appData.currentDay];

            // Initialize personalRecords if it doesn't exist (for backward compatibility)
            if (!appData.personalRecords) {
                appData.personalRecords = {};
            }

            container.innerHTML = exercises.map((ex, idx) => {
                const currentPR = appData.personalRecords[ex.name];
                const hasPR = currentPR !== undefined;

                return `
                <div class="exercise-card">
                    <div class="exercise-name">
                        ${ex.name}
                        ${hasPR ? `<span class="pr-badge">PR: ${Math.round(currentPR.estimated1RM)}kg</span>` : ''}
                    </div>
                    <div class="exercise-details">
                        <div>
                            <div class="detail-label">Weight</div>
                            <div class="detail-value">${ex.weight} kg</div>
                        </div>
                        <div>
                            <div class="detail-label">Reps per Set</div>
                            <div class="detail-value">${ex.reps}</div>
                        </div>
                        <div>
                            <div class="detail-label">Target (AMRAP)</div>
                            <div class="detail-value">${ex.target || 'N/A'}</div>
                        </div>
                        <div>
                            <div class="detail-label">Total Sets</div>
                            <div class="detail-value">${ex.sets}</div>
                        </div>
                    </div>
                    ${renderPlateDisplay(ex.weight)}
                    ${ex.target ? `
                    <div class="amrap-input">
                        <label>AMRAP Reps:</label>
                        <div class="stepper-control">
                            <button class="stepper-btn" onclick="adjustAmrap(${appData.currentDay}, ${idx}, -1)" ${ex.amrapReps <= 0 ? 'disabled' : ''}>−</button>
                            <div class="stepper-value ${ex.amrapReps === undefined ? 'empty' : ''}" id="amrap-${appData.currentDay}-${idx}">
                                ${ex.amrapReps !== undefined ? ex.amrapReps : '?'}
                            </div>
                            <button class="stepper-btn" onclick="adjustAmrap(${appData.currentDay}, ${idx}, 1)">+</button>
                        </div>
                    </div>
                    <div class="progression-hint" id="hint-${appData.currentDay}-${idx}"></div>
                    ` : '<div style="padding:8px; font-size:12px; color:#666;">Deload week - no AMRAP</div>'}
                </div>
            `;
            }).join('');

            // Update hints
            exercises.forEach((ex, idx) => {
                if (ex.amrapReps !== undefined && ex.target) {
                    updateProgressionHint(appData.currentDay, idx);
                }
            });

            // Update week displays
            document.getElementById('current-week').textContent = appData.currentWeek;
            document.getElementById('workout-week-display').textContent = appData.currentWeek;
            document.getElementById('program-name').textContent = appData.selectedProgram;

            // Render day selector
            renderDaySelector();
            updateDayButtons();
            updateNavigationButtons();
            updateMarkDayButton();
        }

        // Adjust AMRAP reps with stepper buttons
        function adjustAmrap(day, exIdx, delta) {
            const ex = appData.workouts[appData.currentWeek][day][exIdx];
            const currentReps = ex.amrapReps !== undefined ? ex.amrapReps : 0;
            const newReps = Math.max(0, currentReps + delta);

            updateAmrap(day, exIdx, newReps);

            // Re-render to update button states
            const valueEl = document.getElementById(`amrap-${day}-${exIdx}`);
            if (valueEl) {
                valueEl.textContent = newReps;
                valueEl.classList.remove('empty');
            }
        }

        function updateAmrap(day, exIdx, value) {
            const reps = parseInt(value);
            if (!isNaN(reps)) {
                const ex = appData.workouts[appData.currentWeek][day][exIdx];
                ex.amrapReps = reps;

                // Check for PR
                const isPR = checkAndUpdatePR(ex, appData.currentWeek);

                saveData();
                updateProgressionHint(day, exIdx);

                // Show PR notification if achieved
                if (isPR) {
                    showPRNotification(ex);
                }

                // Auto-start rest timer if enabled
                if (appData.restTimer && appData.restTimer.enabled && appData.restTimer.autoStart) {
                    showRestTimer();
                    startTimer();
                }
            }
        }

        function calculateEstimated1RM(weight, reps) {
            // Epley formula: weight × (1 + reps/30)
            return weight * (1 + reps / 30);
        }

        function checkAndUpdatePR(exercise, weekNum) {
            // Only check PR if AMRAP reps are recorded
            if (exercise.amrapReps === undefined) return false;

            const exerciseName = exercise.name;
            const estimated1RM = calculateEstimated1RM(exercise.weight, exercise.amrapReps);

            // Initialize personalRecords if it doesn't exist (for backward compatibility)
            if (!appData.personalRecords) {
                appData.personalRecords = {};
            }

            const currentPR = appData.personalRecords[exerciseName];
            const isPR = !currentPR || estimated1RM > currentPR.estimated1RM;

            if (isPR) {
                appData.personalRecords[exerciseName] = {
                    estimated1RM: Math.round(estimated1RM * 10) / 10,
                    weight: exercise.weight,
                    reps: exercise.amrapReps,
                    date: new Date().toISOString(),
                    week: weekNum
                };
                return true;
            }

            return false;
        }

        function showPRNotification(exercise) {
            const estimated1RM = calculateEstimated1RM(exercise.weight, exercise.amrapReps);
            const message = `🎉 NEW PR! 🎉\n\n${exercise.name}\n${exercise.weight}kg × ${exercise.amrapReps} reps\nEstimated 1RM: ${Math.round(estimated1RM)}kg`;
            alert(message);
        }

        // Rest Timer Functions
        function showRestTimer() {
            // Initialize rest timer settings if not present
            if (!appData.restTimer) {
                appData.restTimer = {
                    enabled: true,
                    duration: 180,
                    autoStart: false
                };
            }

            document.getElementById('rest-timer').style.display = 'block';
            timerState.remaining = appData.restTimer.duration;
            updateTimerDisplay();
        }

        function closeTimer() {
            stopTimerInterval();
            document.getElementById('rest-timer').style.display = 'none';
            timerState.active = false;
            timerState.paused = false;
            timerState.remaining = appData.restTimer.duration;
        }

        function startTimer() {
            if (!timerState.active || timerState.paused) {
                timerState.active = true;
                timerState.paused = false;

                // Update button visibility
                document.getElementById('start-timer-btn').style.display = 'none';
                document.getElementById('pause-timer-btn').style.display = 'inline-block';

                // Start countdown
                timerState.interval = setInterval(() => {
                    timerState.remaining--;
                    updateTimerDisplay();

                    if (timerState.remaining <= 0) {
                        timerComplete();
                    }
                }, 1000);
            }
        }

        function pauseTimer() {
            if (timerState.active && !timerState.paused) {
                timerState.paused = true;
                stopTimerInterval();

                // Update button visibility
                document.getElementById('start-timer-btn').style.display = 'inline-block';
                document.getElementById('pause-timer-btn').style.display = 'none';
            }
        }

        function resetTimer() {
            stopTimerInterval();
            timerState.active = false;
            timerState.paused = false;
            timerState.remaining = appData.restTimer.duration;
            updateTimerDisplay();

            // Update button visibility
            document.getElementById('start-timer-btn').style.display = 'inline-block';
            document.getElementById('pause-timer-btn').style.display = 'none';
        }

        function stopTimerInterval() {
            if (timerState.interval) {
                clearInterval(timerState.interval);
                timerState.interval = null;
            }
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timerState.remaining / 60);
            const seconds = timerState.remaining % 60;
            const display = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('timer-display').textContent = display;
        }

        function timerComplete() {
            stopTimerInterval();
            timerState.active = false;
            document.getElementById('timer-display').textContent = 'DONE!';

            // Play audio notification
            playTimerSound();

            // Show alert
            setTimeout(() => {
                alert('Rest period complete! Ready for your next set.');
            }, 100);

            // Update button visibility
            document.getElementById('start-timer-btn').style.display = 'inline-block';
            document.getElementById('pause-timer-btn').style.display = 'none';
        }

        function playTimerSound() {
            // Create a simple beep sound using Web Audio API
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.frequency.value = 800;
                oscillator.type = 'sine';

                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);

                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.5);
            } catch (e) {
                console.log('Audio not supported');
            }
        }

        function updateProgressionHint(day, exIdx) {
            const ex = appData.workouts[appData.currentWeek][day][exIdx];
            const hint = document.getElementById(`hint-${day}-${exIdx}`);

            if (!hint || !ex.target) return;

            const diff = ex.amrapReps - ex.target;
            const progression = calculateProgression(ex.amrapReps, ex.target);

            // Calculate next week's weight using TM-based progression
            const currentWeek = appData.currentWeek;
            const nextWeek = currentWeek + 1;
            const currentIntensity = WEEK_INTENSITY[currentWeek] || 0.75;
            const nextIntensity = WEEK_INTENSITY[nextWeek] || 0.80;

            // TM = current_weight / current_intensity
            const trainingMax = ex.weight / currentIntensity;
            // Apply AMRAP progression to TM
            const newTrainingMax = trainingMax * (1 + progression);
            // Next week working weight = newTM * next_intensity
            const nextWeight = roundWeight(newTrainingMax * nextIntensity);
            const change = nextWeight - ex.weight;

            if (diff < 0) {
                hint.className = 'progression-hint progression-negative';
                hint.textContent = `${diff} from target. Next week: ~${nextWeight}kg (${change >= 0 ? '+' : ''}${change}kg)`;
            } else if (diff > 0) {
                hint.className = 'progression-hint progression-positive';
                hint.textContent = `+${diff} from target! Next week: ~${nextWeight}kg (+${change}kg)`;
            } else {
                hint.className = 'progression-hint';
                hint.textContent = `Target hit! Next week: ~${nextWeight}kg`;
            }
        }

        function markDayComplete() {
            const currentDay = appData.currentDay;
            const currentWeek = appData.currentWeek;

            // Initialize completedDays for this week if not exists
            if (!appData.completedDays[currentWeek]) {
                appData.completedDays[currentWeek] = {};
            }

            // Mark current day as complete
            appData.completedDays[currentWeek][currentDay] = true;

            // Check if all days are complete
            const numDays = getNumDays();
            const allDaysComplete = Array.from({length: numDays}, (_, i) => i + 1)
                .every(day => appData.completedDays[currentWeek][day] === true);

            saveData();
            updateDayButtons();

            if (allDaysComplete) {
                // All days complete - offer to move to next week
                if (confirm(`All days complete! Move to Week ${currentWeek + 1}?`)) {
                    advanceWeekWithProgression();
                } else {
                    alert(`Day ${currentDay} marked complete!`);
                }
            } else {
                // Move to next incomplete day
                let nextDay = currentDay;
                for (let i = 1; i <= numDays; i++) {
                    if (!appData.completedDays[currentWeek][i]) {
                        nextDay = i;
                        break;
                    }
                }
                if (nextDay !== currentDay) {
                    appData.currentDay = nextDay;
                    saveData();
                    renderWorkout();
                }
                alert(`Day ${currentDay} marked complete!`);
            }
        }

        function advanceWeekWithProgression() {
            const currentWeek = appData.currentWeek;
            const nextWeek = currentWeek + 1;

            // Load next week's baseline data (preserves completed weeks automatically)
            if (!appData.workouts[nextWeek]) {
                appData.workouts[nextWeek] = getWeekData(nextWeek);
            }

            // Apply TM-based AMRAP progressions to next week's weights
            const currentIntensity = WEEK_INTENSITY[currentWeek] || 0.75;
            const nextIntensity = WEEK_INTENSITY[nextWeek] || 0.80;

            for (let day = 1; day <= getNumDays(); day++) {
                const currentDayExercises = appData.workouts[currentWeek][day];
                const nextDayExercises = appData.workouts[nextWeek][day];

                if (!currentDayExercises || !nextDayExercises) continue;

                // Match exercises by name and apply TM-based progressions
                currentDayExercises.forEach(currentEx => {
                    if (currentEx.amrapReps === undefined || !currentEx.target) return;

                    // Find matching exercise in next week by name
                    const nextEx = nextDayExercises.find(ex => ex.name === currentEx.name);
                    if (!nextEx) return;

                    // Calculate Training Max from current working weight
                    const trainingMax = currentEx.weight / currentIntensity;

                    // Apply AMRAP progression to TM
                    const progression = calculateProgression(currentEx.amrapReps, currentEx.target);
                    const newTrainingMax = trainingMax * (1 + progression);

                    // Calculate next week's working weight at new intensity
                    const nextWorkingWeight = newTrainingMax * nextIntensity;
                    nextEx.weight = roundWeight(nextWorkingWeight);
                });
            }

            appData.currentWeek = nextWeek;
            appData.currentDay = 1; // Reset to day 1
            saveData();
            renderWorkout();
            alert(`Moved to Week ${nextWeek}! Weights adjusted based on your AMRAP performance.`);
        }

        function navigateWeek(direction) {
            const newWeek = appData.currentWeek + direction;
            const maxWeek = getMaxWeek();

            // Validate week range (1-20 for strength, 1-21 for hypertrophy)
            if (newWeek < 1 || newWeek > maxWeek) {
                return;
            }

            appData.currentWeek = newWeek;
            appData.currentDay = 1; // Reset to day 1

            // Load week data if not exists (preserves completed weeks automatically)
            if (!appData.workouts[newWeek]) {
                appData.workouts[newWeek] = getWeekData(newWeek);
            }

            saveData();
            document.getElementById('week-selector').value = appData.currentWeek;
            renderWorkout();
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prev-week-btn');
            const nextBtn = document.getElementById('next-week-btn');
            const maxWeek = getMaxWeek();

            prevBtn.disabled = appData.currentWeek <= 1;
            nextBtn.disabled = appData.currentWeek >= maxWeek;
        }

        function updateMarkDayButton() {
            const btn = document.getElementById('mark-day-btn');
            const completedDaysForWeek = appData.completedDays[appData.currentWeek] || {};
            const isDayComplete = completedDaysForWeek[appData.currentDay] === true;

            if (isDayComplete) {
                btn.textContent = `Day ${appData.currentDay} Already Complete ✓`;
                btn.style.opacity = '0.6';
            } else {
                btn.textContent = `Mark Day ${appData.currentDay} Complete`;
                btn.style.opacity = '1';
            }
        }

        // Settings functions
        function save1RMs() {
            appData.oneRepMaxes = {
                squat: parseFloat(document.getElementById('1rm-squat').value),
                bench: parseFloat(document.getElementById('1rm-bench').value),
                deadlift: parseFloat(document.getElementById('1rm-deadlift').value),
                ohp: parseFloat(document.getElementById('1rm-ohp').value)
            };
            saveData();
            alert('1RMs saved!');
        }

        function saveAuxiliaryExercises() {
            appData.auxiliaryExercises = {
                'squat-aux-1': document.getElementById('settings-squat-aux-1').value,
                'squat-aux-2': document.getElementById('settings-squat-aux-2').value,
                'bench-aux-1': document.getElementById('settings-bench-aux-1').value,
                'bench-aux-2': document.getElementById('settings-bench-aux-2').value,
                'deadlift-aux': document.getElementById('settings-deadlift-aux').value,
                'ohp-aux': document.getElementById('settings-ohp-aux').value
            };

            // Clear future workouts so they'll be regenerated with new auxiliary exercises
            // BUT preserve completed weeks to maintain historical accuracy
            const currentWeek = appData.currentWeek;
            for (let week = currentWeek; week <= 20; week++) {
                // Only delete weeks that don't have completed workouts
                if (!hasCompletedWorkouts(week)) {
                    delete appData.workouts[week];
                }
            }

            // Reload current week with new auxiliary exercises only if not completed
            if (!hasCompletedWorkouts(currentWeek)) {
                appData.workouts[currentWeek] = getWeekData(currentWeek);
            }

            saveData();
            renderWorkout();
            alert('Auxiliary exercises updated! Current and future workouts will use your new selections.');
        }

        function loadAuxiliarySettings() {
            if (appData.auxiliaryExercises) {
                // Support both old format (squat, bench, etc.) and new format (squat-aux-1, etc.)
                document.getElementById('settings-squat-aux-1').value = appData.auxiliaryExercises['squat-aux-1'] || appData.auxiliaryExercises.squat || 'Leg Press';
                document.getElementById('settings-squat-aux-2').value = appData.auxiliaryExercises['squat-aux-2'] || 'Hack Squat';
                document.getElementById('settings-bench-aux-1').value = appData.auxiliaryExercises['bench-aux-1'] || appData.auxiliaryExercises.bench || 'Incline Press';
                document.getElementById('settings-bench-aux-2').value = appData.auxiliaryExercises['bench-aux-2'] || 'DB Bench';
                document.getElementById('settings-deadlift-aux').value = appData.auxiliaryExercises['deadlift-aux'] || appData.auxiliaryExercises.deadlift || 'Romanian Deadlift';
                document.getElementById('settings-ohp-aux').value = appData.auxiliaryExercises['ohp-aux'] || appData.auxiliaryExercises.ohp || 'DB OHP';
            }

            // Load plate calculator settings
            if (appData.plateCalculator) {
                document.getElementById('plate-calculator-enabled').checked = appData.plateCalculator.enabled !== false;
                document.getElementById('barbell-weight').value = appData.plateCalculator.barbellWeight || 20;
            }

            // Load rest timer settings
            if (!appData.restTimer) {
                appData.restTimer = {
                    enabled: true,
                    duration: 180,
                    autoStart: false
                };
            }
            document.getElementById('rest-timer-enabled').checked = appData.restTimer.enabled !== false;
            document.getElementById('rest-timer-duration').value = appData.restTimer.duration || 180;
            document.getElementById('rest-timer-autostart').checked = appData.restTimer.autoStart === true;

            // Load program settings
            document.getElementById('settings-program-type').value = appData.programType || 'strength';
            document.getElementById('settings-program-variant').value = appData.selectedProgram || '3x';
            updateSettingsProgramVariants();
        }

        function updateSettingsProgramVariants() {
            const programType = document.getElementById('settings-program-type').value;
            const programSelect = document.getElementById('settings-program-variant');
            const currentValue = programSelect.value;

            // Clear existing options
            programSelect.innerHTML = '';

            // Add standard options (2x-5x)
            ['2x', '3x', '4x', '5x'].forEach(variant => {
                const option = document.createElement('option');
                option.value = variant;
                option.textContent = `${variant} Frequency`;
                programSelect.appendChild(option);
            });

            // Add 6x option for hypertrophy only
            if (programType === 'hypertrophy') {
                const option = document.createElement('option');
                option.value = '6x';
                option.textContent = '6x Frequency';
                programSelect.appendChild(option);
            }

            // Restore previous selection if valid
            if (currentValue && (programType !== 'strength' || currentValue !== '6x')) {
                programSelect.value = currentValue;
            }
        }

        function changeProgram() {
            const newProgramType = document.getElementById('settings-program-type').value;
            const newVariant = document.getElementById('settings-program-variant').value;
            const currentProgramType = appData.programType;
            const currentVariant = appData.selectedProgram;

            // Check if anything changed
            if (newProgramType === currentProgramType && newVariant === currentVariant) {
                alert('No changes detected. You are already using this program.');
                return;
            }

            const confirmMsg = `Change program from ${currentProgramType} ${currentVariant} to ${newProgramType} ${newVariant}?\n\n` +
                `Your workout history will be preserved, but future weeks will use the new program structure.\n\n` +
                `Current week will be reset to use the new program.`;

            if (!confirm(confirmMsg)) {
                return;
            }

            // Update program type and variant
            appData.programType = newProgramType;
            appData.selectedProgram = newVariant;

            // Clear future weeks (preserve completed weeks)
            const currentWeek = appData.currentWeek;
            const maxWeek = getMaxWeek();
            for (let week = currentWeek; week <= maxWeek; week++) {
                if (!hasCompletedWorkouts(week)) {
                    delete appData.workouts[week];
                }
            }

            // Reload current week with new program
            if (!hasCompletedWorkouts(currentWeek)) {
                appData.workouts[currentWeek] = getWeekData(currentWeek);
            }

            saveData();
            updateWeekSelectors();
            renderWorkout();
            alert(`Program changed to ${newProgramType} ${newVariant}! Current and future weeks will use the new program structure.`);
        }

        function saveRestTimerSettings() {
            const enabled = document.getElementById('rest-timer-enabled').checked;
            const duration = parseInt(document.getElementById('rest-timer-duration').value);
            const autoStart = document.getElementById('rest-timer-autostart').checked;

            if (isNaN(duration) || duration < 30 || duration > 600) {
                alert('Please enter a valid duration between 30 and 600 seconds');
                return;
            }

            appData.restTimer = {
                enabled,
                duration,
                autoStart
            };

            saveData();
            alert('Rest timer settings saved!');
        }

        function jumpToWeek() {
            const weekNum = parseInt(document.getElementById('week-selector').value);
            appData.currentWeek = weekNum;
            appData.currentDay = 1; // Reset to day 1

            // Only generate new week data if it doesn't exist
            // Don't regenerate weeks with completed workouts to preserve actual exercises
            if (!appData.workouts[weekNum]) {
                appData.workouts[weekNum] = getWeekData(weekNum);
            }

            saveData();
            switchTab('workout');
            renderWorkout();
        }

        function loadHistoricalData() {
            if (!confirm('Load weeks 1-15 AMRAP history from Excel? This will overwrite any existing data for those weeks.')) {
                return;
            }

            // Load AMRAP history for weeks 1-15
            for (let week = 1; week <= 15; week++) {
                const weekStr = week.toString();

                // Load week data if not already loaded
                // Don't regenerate if the week already has completed workouts (preserves actual exercise names)
                if (!appData.workouts[week]) {
                    appData.workouts[week] = getWeekData(week);
                } else if (hasCompletedWorkouts(week)) {
                    // Week already has data - skip regeneration to preserve actual exercises
                    continue;
                }

                // Load AMRAP data if it exists
                if (AMRAP_HISTORY_DATA[weekStr]) {
                    const historyData = AMRAP_HISTORY_DATA[weekStr];

                    // Apply AMRAP data to each day
                    for (let day = 1; day <= getNumDays(); day++) {
                        const dayStr = day.toString();
                        if (historyData[dayStr] && appData.workouts[week][day]) {
                            const amrapValues = historyData[dayStr];

                            // Apply AMRAP values to exercises
                            amrapValues.forEach((amrapReps, exIdx) => {
                                if (appData.workouts[week][day][exIdx]) {
                                    appData.workouts[week][day][exIdx].amrapReps = amrapReps;
                                }
                            });
                        }
                    }
                }
            }

            saveData();
            alert('Historical data loaded for weeks 1-15!');

            // If we're viewing a week with loaded history, refresh the view
            if (appData.currentWeek <= 15) {
                renderWorkout();
            }
        }

        function resetAll() {
            if (!confirm('Reset ALL data? This cannot be undone!')) {
                return;
            }
            localStorage.removeItem('sbs-tracker-v2');
            location.reload();
        }

        // Export & Import Functions
        function exportToJSON() {
            // Create a full backup of app data
            const dataStr = JSON.stringify(appData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });

            // Create download link
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;

            // Generate filename with date
            const date = new Date().toISOString().split('T')[0];
            const programType = appData.programType || 'strength';
            link.download = `sbs-tracker-backup-${programType}-week${appData.currentWeek}-${date}.json`;

            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            alert('Backup exported successfully!');
        }

        function exportToCSV() {
            // Create CSV of workout history
            const weeks = Object.keys(appData.workouts).sort((a, b) => parseInt(a) - parseInt(b));

            if (weeks.length === 0) {
                alert('No workout data to export!');
                return;
            }

            // CSV headers
            let csvContent = 'Week,Day,Exercise,Weight (kg),Reps,Target,Sets,AMRAP Reps,Completed\n';

            // Add workout data
            weeks.forEach(weekNum => {
                const weekData = appData.workouts[weekNum];
                Object.keys(weekData).forEach(dayNum => {
                    const dayExercises = weekData[dayNum];
                    dayExercises.forEach(exercise => {
                        const amrapReps = exercise.amrapReps || '';
                        const completed = appData.completedDays[weekNum]?.[dayNum] ? 'Yes' : 'No';

                        csvContent += `${weekNum},${dayNum},"${exercise.name}",${exercise.weight},${exercise.reps},${exercise.target},${exercise.sets},${amrapReps},${completed}\n`;
                    });
                });
            });

            // Create download link
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;

            const date = new Date().toISOString().split('T')[0];
            const programType = appData.programType || 'strength';
            link.download = `sbs-tracker-history-${programType}-${date}.csv`;

            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            alert('Workout history exported to CSV!');
        }

        function importFromJSON() {
            const fileInput = document.getElementById('import-file');
            const file = fileInput.files[0];

            if (!file) {
                alert('Please select a JSON file to import');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const importedData = JSON.parse(e.target.result);

                    // Validate required fields
                    if (!importedData.selectedProgram || !importedData.currentWeek) {
                        throw new Error('Invalid backup file format');
                    }

                    // Confirm import
                    const confirmMsg = `Import backup data?\n\n` +
                        `Program: ${importedData.programType || 'strength'} ${importedData.selectedProgram}\n` +
                        `Current Week: ${importedData.currentWeek}\n` +
                        `Workouts: ${Object.keys(importedData.workouts || {}).length} weeks\n\n` +
                        `This will replace ALL current data!`;

                    if (!confirm(confirmMsg)) {
                        return;
                    }

                    // Import data
                    appData = {...appData, ...importedData};
                    saveData();

                    // Update UI
                    updateWeekSelectors();
                    renderWorkout();

                    // Update settings inputs
                    document.getElementById('1rm-squat').value = appData.oneRepMaxes.squat;
                    document.getElementById('1rm-bench').value = appData.oneRepMaxes.bench;
                    document.getElementById('1rm-deadlift').value = appData.oneRepMaxes.deadlift;
                    document.getElementById('1rm-ohp').value = appData.oneRepMaxes.ohp;
                    document.getElementById('week-selector').value = appData.currentWeek;

                    alert('Backup imported successfully!');

                    // Clear file input
                    fileInput.value = '';

                } catch (error) {
                    alert('Error importing backup: ' + error.message + '\n\nPlease ensure you selected a valid SBS Tracker backup file.');
                    console.error('Import error:', error);
                }
            };

            reader.readAsText(file);
        }

        // Plate Calculator Functions
        function calculatePlates(weight) {
            if (!appData.plateCalculator.enabled) {
                return null;
            }

            const barbellWeight = appData.plateCalculator.barbellWeight;
            const availablePlates = appData.plateCalculator.availablePlates;

            // Weight per side (subtract barbell, divide by 2)
            let weightPerSide = (weight - barbellWeight) / 2;

            // Handle edge cases
            if (weightPerSide < 0) {
                return { plates: [], perSide: 0, error: 'Weight less than barbell' };
            }

            if (weightPerSide === 0) {
                return { plates: [], perSide: 0, error: null };
            }

            // Calculate plates using greedy algorithm
            const plates = [];
            let remaining = weightPerSide;

            for (const plate of availablePlates) {
                while (remaining >= plate - 0.01) { // Allow small float tolerance
                    plates.push(plate);
                    remaining -= plate;
                }
            }

            // Check if we have remainder (can't load exact weight)
            const remainder = remaining > 0.1 ? remaining : 0;

            return {
                plates: plates,
                perSide: weightPerSide,
                remainder: remainder,
                error: remainder > 0.1 ? `Closest: ${(weight - remainder * 2).toFixed(1)}kg` : null
            };
        }

        function renderPlateDisplay(weight) {
            const result = calculatePlates(weight);

            if (!result) {
                return '';
            }

            if (result.error === 'Weight less than barbell') {
                return `<div style="padding: 8px; font-size: 12px; color: var(--text-tertiary);">⚠️ Weight less than barbell</div>`;
            }

            const barbellWeight = appData.plateCalculator.barbellWeight;

            // Calculate summary text
            let summaryText = '';
            if (result.plates.length === 0) {
                summaryText = `Empty bar (${barbellWeight}kg)`;
            } else {
                const plateCounts = {};
                result.plates.forEach(plate => {
                    plateCounts[plate] = (plateCounts[plate] || 0) + 1;
                });
                const summaryParts = [];
                Object.keys(plateCounts).sort((a, b) => parseFloat(b) - parseFloat(a)).forEach(plate => {
                    summaryParts.push(`${plateCounts[plate]}×${plate}kg`);
                });
                summaryText = summaryParts.join(', ');
            }

            // Simple text-only display
            let html = `
                <div class="plate-calculator">
                    <div class="plate-summary">
                        <div class="plate-summary-label">🏋️ Plates per side</div>
                        <div class="plate-summary-value">${summaryText}</div>
                    </div>
                </div>`;

            if (result.remainder) {
                html += `<div style="font-size: 11px; color: #e67e22; padding: 8px; margin-top: -8px;">
                    ⚠️ ${result.error}
                </div>`;
            }

            return html;
        }

        function savePlateSettings() {
            const enabled = document.getElementById('plate-calculator-enabled').checked;
            const barbellWeight = parseFloat(document.getElementById('barbell-weight').value);

            appData.plateCalculator.enabled = enabled;
            appData.plateCalculator.barbellWeight = barbellWeight;

            saveData();
            renderWorkout();

            alert('Plate calculator settings saved!');
        }

        function togglePlateCalculator() {
            appData.plateCalculator.enabled = document.getElementById('plate-calculator-enabled').checked;
            saveData();
            renderWorkout();
        }

        function renderHistory() {
            const container = document.getElementById('history-container');
            const allWeeks = Object.keys(appData.workouts).sort((a, b) => b - a);

            // Filter to only show weeks with completed workouts
            const completedWeeks = allWeeks.filter(weekNum => hasCompletedWorkouts(weekNum));

            if (completedWeeks.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">📜</div>
                        <h3 class="empty-state-title">No Workout History Yet</h3>
                        <p class="empty-state-description">
                            Complete your first AMRAP set to start building your workout history and track your progress over time!
                        </p>
                    </div>
                `;
                return;
            }

            const numDays = getNumDays();

            container.innerHTML = completedWeeks.map(weekNum => {
                const weekData = appData.workouts[weekNum];

                // Get only the days that have completed exercises (with AMRAP data)
                const completedDays = [];
                for (let day = 1; day <= numDays; day++) {
                    if (weekData[day] && weekData[day].some(ex => ex.amrapReps !== undefined)) {
                        completedDays.push(day);
                    }
                }

                // Only show weeks that have at least one completed day
                if (completedDays.length === 0) return '';

                return `
                    <div class="history-week">
                        <h3>Week ${weekNum}</h3>
                        ${completedDays.map(day => `
                            <div style="margin-top:10px;">
                                <strong>Day ${day}</strong>
                                ${weekData[day].map(ex => `
                                    <div class="history-exercise">
                                        ${ex.name}: ${ex.weight}kg × ${ex.reps} reps × ${ex.sets} sets
                                        ${ex.amrapReps !== undefined ? `<span class="completed-badge">AMRAP: ${ex.amrapReps}</span>` : ''}
                                    </div>
                                `).join('')}
                            </div>
                        `).join('')}
                    </div>
                `;
            }).join('');
        }

        // Helper: Create progress ring SVG
        function createProgressRing(percentage, gradient, size = 120, strokeWidth = 8) {
            const radius = (size - strokeWidth) / 2;
            const circumference = radius * 2 * Math.PI;
            const offset = circumference - (percentage / 100) * circumference;

            return `
                <div class="progress-ring-container" style="width: ${size}px; height: ${size}px;">
                    <svg class="progress-ring" width="${size}" height="${size}">
                        <circle class="progress-ring-bg" cx="${size/2}" cy="${size/2}" r="${radius}"></circle>
                        <circle
                            class="progress-ring-fill"
                            cx="${size/2}"
                            cy="${size/2}"
                            r="${radius}"
                            stroke="url(#${gradient})"
                            stroke-dasharray="${circumference}"
                            stroke-dashoffset="${offset}"
                        ></circle>
                        <defs>
                            <linearGradient id="gradient-primary" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="gradient-success" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#00B894;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#00cec9;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="gradient-bench" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#4FACFE;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#00F2FE;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="gradient-squat" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#FF6B6B;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#FF8E53;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                    </svg>
                    <div class="progress-ring-text">
                        <div class="progress-ring-value">${Math.round(percentage)}%</div>
                    </div>
                </div>
            `;
        }

        function renderProgress() {
            const container = document.getElementById('progress-container');
            const weeks = Object.keys(appData.workouts).sort((a, b) => parseInt(a) - parseInt(b));

            if (weeks.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: var(--spacing-xl) var(--spacing-lg);">
                        <div style="font-size: 64px; margin-bottom: var(--spacing-md);">📊</div>
                        <h3 style="color: var(--text-primary); margin-bottom: var(--spacing-sm);">No Progress Data Yet</h3>
                        <p style="color: var(--text-secondary); max-width: 300px; margin: 0 auto;">Complete some workouts to see your progress, stats, and personal records here!</p>
                    </div>
                `;
                return;
            }

            // Calculate statistics
            const stats = calculateProgressStats();

            // Calculate program completion percentage
            const maxWeeks = appData.programType === 'hypertrophy' ? 21 : 20;
            const completionPercentage = (stats.weeksCompleted / maxWeeks) * 100;

            container.innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card with-ring">
                        ${createProgressRing(completionPercentage, 'gradient-primary', 100, 6)}
                        <div class="stat-label" style="margin-top: var(--spacing-sm);">Program Complete</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${stats.totalVolume.toLocaleString()}</div>
                        <div class="stat-label">Total Volume (kg)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${stats.workoutsCompleted}</div>
                        <div class="stat-label">Workouts Done</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">${stats.avgVolumePerWeek.toLocaleString()}</div>
                        <div class="stat-label">Avg Volume/Week</div>
                    </div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">Total Volume by Week</div>
                    <div class="chart-canvas">
                        <div class="bar-chart">
                            ${stats.weeklyVolume.map(wv => {
                                const maxVol = Math.max(...stats.weeklyVolume.map(v => v.volume));
                                const height = (wv.volume / maxVol) * 100;
                                return `
                                    <div class="bar" style="height: ${height}%">
                                        <div class="bar-value">${(wv.volume / 1000).toFixed(1)}k</div>
                                        <div class="bar-label">W${wv.week}</div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                </div>

                <div class="progress-section">
                    <h3>Estimated 1RM Progress</h3>
                    ${renderEstimated1RMs(stats)}
                </div>

                <div class="progress-section">
                    <h3>Performance by Lift</h3>
                    ${renderLiftBreakdown(stats)}
                </div>

                <div class="progress-section">
                    <h3>🏆 Personal Records</h3>
                    ${renderPersonalRecords()}
                </div>
            `;
        }

        function calculateProgressStats() {
            const weeks = Object.keys(appData.workouts).sort((a, b) => parseInt(a) - parseInt(b));
            let totalVolume = 0;
            let workoutsCompleted = 0;
            const weeklyVolume = [];
            const liftData = {};
            const numDays = getNumDays();

            weeks.forEach(weekNum => {
                const weekData = appData.workouts[weekNum];
                let weekVolume = 0;

                for (let day = 1; day <= numDays; day++) {
                    if (weekData[day]) {
                        let dayComplete = true;
                        weekData[day].forEach(ex => {
                            // Calculate volume for this exercise
                            const volume = ex.weight * ex.reps * ex.sets;
                            weekVolume += volume;
                            totalVolume += volume;

                            // Track lift data for progress tracking
                            if (!liftData[ex.name]) {
                                liftData[ex.name] = [];
                            }
                            liftData[ex.name].push({
                                week: weekNum,
                                weight: ex.weight,
                                reps: ex.reps,
                                amrapReps: ex.amrapReps,
                                target: ex.target,
                                sets: ex.sets
                            });

                            // Check if AMRAP is complete
                            if (ex.target && ex.amrapReps === undefined) {
                                dayComplete = false;
                            }
                        });
                        if (dayComplete) workoutsCompleted++;
                    }
                }

                weeklyVolume.push({ week: weekNum, volume: weekVolume });
            });

            const avgVolumePerWeek = weeks.length > 0 ? Math.round(totalVolume / weeks.length) : 0;

            return {
                totalVolume: Math.round(totalVolume),
                workoutsCompleted,
                weeksCompleted: weeks.length,
                avgVolumePerWeek,
                weeklyVolume,
                liftData
            };
        }

        function renderEstimated1RMs(stats) {
            const mainLifts = ['Squat', 'Bench Press', 'Deadlift', 'OHP'];
            let html = '';

            mainLifts.forEach(liftName => {
                const liftHistory = stats.liftData[liftName];
                if (!liftHistory || liftHistory.length === 0) return;

                // Get first and last recorded weights
                const firstEntry = liftHistory[0];
                const lastEntry = liftHistory[liftHistory.length - 1];

                // Estimate 1RM using Epley formula: weight × (1 + reps/30)
                const getEstimated1RM = (entry) => {
                    const reps = entry.amrapReps !== undefined ? entry.amrapReps : entry.reps;
                    return entry.weight * (1 + reps / 30);
                };

                const first1RM = getEstimated1RM(firstEntry);
                const last1RM = getEstimated1RM(lastEntry);
                const change = last1RM - first1RM;
                const changePercent = ((change / first1RM) * 100).toFixed(1);

                html += `
                    <div class="lift-progress">
                        <div class="lift-name">${liftName}</div>
                        <div class="lift-stats">
                            <span>Est. 1RM: ${last1RM.toFixed(1)}kg</span>
                            <span class="lift-change ${change >= 0 ? 'positive' : 'negative'}">
                                ${change >= 0 ? '+' : ''}${change.toFixed(1)}kg (${changePercent >= 0 ? '+' : ''}${changePercent}%)
                            </span>
                        </div>
                    </div>
                `;
            });

            return html || '<p style="color:#666; font-size:13px;">Complete AMRAP sets to track estimated 1RM progress</p>';
        }

        function renderLiftBreakdown(stats) {
            const lifts = Object.keys(stats.liftData);
            if (lifts.length === 0) return '<p style="color:#666; font-size:13px;">No lift data available</p>';

            let html = '';
            lifts.forEach(liftName => {
                const history = stats.liftData[liftName];
                const totalVolume = history.reduce((sum, entry) => sum + (entry.weight * entry.reps * (entry.sets || 5)), 0);
                const avgWeight = history.reduce((sum, entry) => sum + entry.weight, 0) / history.length;
                const completedAMRAPs = history.filter(e => e.amrapReps !== undefined).length;

                html += `
                    <div class="lift-progress">
                        <div class="lift-name">${liftName}</div>
                        <div class="lift-stats">
                            <span>Avg: ${avgWeight.toFixed(1)}kg</span>
                            <span>Volume: ${(totalVolume / 1000).toFixed(1)}k kg</span>
                            <span>AMRAPs: ${completedAMRAPs}</span>
                        </div>
                    </div>
                `;
            });

            return html;
        }

        function renderPersonalRecords() {
            // Initialize personalRecords if it doesn't exist (for backward compatibility)
            if (!appData.personalRecords) {
                appData.personalRecords = {};
            }

            const prs = Object.keys(appData.personalRecords);
            if (prs.length === 0) {
                return '<p style="color:#666; font-size:13px;">Complete AMRAP sets to start tracking your personal records!</p>';
            }

            // Sort PRs by estimated 1RM descending
            const sortedPRs = prs.map(exerciseName => ({
                name: exerciseName,
                ...appData.personalRecords[exerciseName]
            })).sort((a, b) => b.estimated1RM - a.estimated1RM);

            let html = '<div style="display: grid; gap: 10px;">';
            sortedPRs.forEach(pr => {
                const date = new Date(pr.date);
                const formattedDate = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });

                html += `
                    <div class="lift-progress" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 700; font-size: 14px; margin-bottom: 4px;">${pr.name}</div>
                                <div style="font-size: 12px; opacity: 0.9;">
                                    ${pr.weight}kg × ${pr.reps} reps
                                    <span style="margin-left: 10px; font-weight: 600;">e1RM: ${Math.round(pr.estimated1RM)}kg</span>
                                </div>
                            </div>
                            <div style="text-align: right; font-size: 11px; opacity: 0.8;">
                                <div>Week ${pr.week}</div>
                                <div>${formattedDate}</div>
                            </div>
                        </div>
                    </div>
                `;
            });
            html += '</div>';

            return html;
        }

        // Setup functions
        function showSetup() {
            document.getElementById('setup-overlay').classList.add('active');
            updateProgramVariants();
        }

        function hideSetup() {
            document.getElementById('setup-overlay').classList.remove('active');
        }

        function updateProgramVariants() {
            const programType = document.getElementById('setup-program-type').value;
            const programSelect = document.getElementById('setup-program');
            const currentValue = programSelect.value;

            // Clear existing options
            programSelect.innerHTML = '';

            // Add base options (2x-5x)
            const baseOptions = [
                { value: '2x', label: '2x - 2 days per week' },
                { value: '3x', label: '3x - 3 days per week' },
                { value: '4x', label: '4x - 4 days per week' },
                { value: '5x', label: '5x - 5 days per week' }
            ];

            baseOptions.forEach(opt => {
                const option = document.createElement('option');
                option.value = opt.value;
                option.textContent = opt.label;
                programSelect.appendChild(option);
            });

            // Add 6x option for hypertrophy only
            if (programType === 'hypertrophy') {
                const option = document.createElement('option');
                option.value = '6x';
                option.textContent = '6x - 6 days per week';
                programSelect.appendChild(option);
            }

            // Restore previous selection if still valid, otherwise default to 3x
            if (currentValue && (programType !== 'strength' || currentValue !== '6x')) {
                programSelect.value = currentValue;
            } else {
                programSelect.value = '3x';
            }

            // Temporarily update appData.programType to show correct weeks in selector
            const oldProgramType = appData.programType;
            appData.programType = programType;
            updateWeekSelectors();
            appData.programType = oldProgramType;
        }

        function completeSetup() {
            // Get values from setup form
            const programType = document.getElementById('setup-program-type').value;
            const selectedProgram = document.getElementById('setup-program').value;
            const startWeek = parseInt(document.getElementById('setup-week').value);
            const squat1RM = parseFloat(document.getElementById('setup-squat').value);
            const bench1RM = parseFloat(document.getElementById('setup-bench').value);
            const deadlift1RM = parseFloat(document.getElementById('setup-deadlift').value);
            const ohp1RM = parseFloat(document.getElementById('setup-ohp').value);

            // Get auxiliary exercise selections
            const squatAux1 = document.getElementById('setup-squat-aux-1').value;
            const squatAux2 = document.getElementById('setup-squat-aux-2').value;
            const benchAux1 = document.getElementById('setup-bench-aux-1').value;
            const benchAux2 = document.getElementById('setup-bench-aux-2').value;
            const deadliftAux = document.getElementById('setup-deadlift-aux').value;
            const ohpAux = document.getElementById('setup-ohp-aux').value;

            // Validate inputs
            if (isNaN(squat1RM) || isNaN(bench1RM) || isNaN(deadlift1RM) || isNaN(ohp1RM)) {
                alert('Please enter valid numbers for all 1RM values');
                return;
            }

            // Update app data
            appData.programType = programType;
            appData.selectedProgram = selectedProgram;
            appData.currentWeek = startWeek;
            appData.currentDay = 1;  // Reset to day 1
            appData.oneRepMaxes = {
                squat: squat1RM,
                bench: bench1RM,
                deadlift: deadlift1RM,
                ohp: ohp1RM
            };
            appData.auxiliaryExercises = {
                'squat-aux-1': squatAux1,
                'squat-aux-2': squatAux2,
                'bench-aux-1': benchAux1,
                'bench-aux-2': benchAux2,
                'deadlift-aux': deadliftAux,
                'ohp-aux': ohpAux
            };
            appData.setupComplete = true;

            // Load the starting week
            if (!appData.workouts[startWeek]) {
                appData.workouts[startWeek] = getWeekData(startWeek);
            }

            // Save and update UI
            saveData();
            updateWeekSelectors();
            hideSetup();
            renderWorkout();

            // Update settings inputs
            document.getElementById('1rm-squat').value = squat1RM;
            document.getElementById('1rm-bench').value = bench1RM;
            document.getElementById('1rm-deadlift').value = deadlift1RM;
            document.getElementById('1rm-ohp').value = ohp1RM;
            document.getElementById('week-selector').value = startWeek;
        }

        function checkSetupNeeded() {
            const saved = localStorage.getItem('sbs-tracker-v2');
            if (!saved || !appData.setupComplete) {
                showSetup();
            }
        }

        function updateWeekSelectors() {
            const maxWeek = getMaxWeek();
            const selectors = ['week-selector', 'setup-week'];

            selectors.forEach(selectorId => {
                const select = document.getElementById(selectorId);
                if (!select) return;

                const currentValue = select.value;
                select.innerHTML = '';

                for (let week = 1; week <= maxWeek; week++) {
                    const option = document.createElement('option');
                    option.value = week;

                    // Add deload labels
                    if (week === 7 || week === 14) {
                        option.textContent = `Week ${week} (Deload)`;
                    } else {
                        option.textContent = `Week ${week}`;
                    }

                    select.appendChild(option);
                }

                // Restore previous selection if still valid
                if (currentValue && parseInt(currentValue) <= maxWeek) {
                    select.value = currentValue;
                }
            });
        }

        // Initialize
        loadData();
        loadTheme(); // Load saved theme preference
        updateWeekSelectors();
        checkSetupNeeded();
        renderWorkout();

        // Update 1RM inputs
        document.getElementById('1rm-squat').value = appData.oneRepMaxes.squat;
        document.getElementById('1rm-bench').value = appData.oneRepMaxes.bench;
        document.getElementById('1rm-deadlift').value = appData.oneRepMaxes.deadlift;
        document.getElementById('1rm-ohp').value = appData.oneRepMaxes.ohp;
        document.getElementById('week-selector').value = appData.currentWeek;

        // Load auxiliary exercise settings
        loadAuxiliarySettings();
    </script>

    <!-- PWA Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            let refreshing = false;

            // Reload page when new service worker takes control
            navigator.serviceWorker.addEventListener('controllerchange', () => {
                if (!refreshing) {
                    console.log('[App] New service worker activated, reloading...');
                    refreshing = true;
                    window.location.reload();
                }
            });

            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((registration) => {
                        console.log('[App] ServiceWorker registered:', registration.scope);

                        // Check for updates when user returns to the app
                        document.addEventListener('visibilitychange', () => {
                            if (!document.hidden) {
                                console.log('[App] Page visible, checking for updates...');
                                registration.update();
                            }
                        });

                        // Also check periodically (every 30 minutes) in case app stays open
                        setInterval(() => {
                            registration.update();
                        }, 1800000); // 30 minutes

                        // Listen for updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            console.log('[App] New service worker found, installing...');

                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New service worker available
                                    console.log('[App] New version available!');

                                    // Show update notification
                                    if (confirm('A new version of SBS Tracker is available! Click OK to update now.')) {
                                        newWorker.postMessage({ type: 'SKIP_WAITING' });
                                    }
                                }
                            });
                        });
                    })
                    .catch((error) => {
                        console.error('[App] ServiceWorker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>